(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{57:function(t,e,r){"use strict";r.r(e);var n=r(5),a=r(42),o=r.n(a),i=r(8),s=r(43),c=r(7),l=r(15),u=r(46),p=r(44),d=r(47),f=r(1),y=r.n(f),m=r(6),h=r(21),v=r.n(h),g=r(45);function S(){var t=Object(n.a)(["\n.App {\n  text-align: center;\n}\n\n.App-body {\n  background-color: #282c34;\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n\n.circle {\n  width:45vmax;\n  height:45vmax;\n  border-radius:50%;\n  box-sizing: border-box;\n  position:relative;\n  background:rgb(240, 16, 102);\n  color: black;\n  font-family: Helvetica, Arial Black, sans;\n  border:solid 0px greenyellow;\n  transform: scale(1);\n  transition:transform ease-in-out 250;\n}\n\n.circle:hover {\n  transform:scale(1.010);\n}\n\n.innerCircleContents {\n  margin:auto;\n  padding:25% 0;\n  width:100%;\n  height:50%;\n  place-items:center;\n  display: grid;\n  grid-auto-flow:row;\n  grid-gap: 5px;\n}\n\n.contentHeader {\n  width:50%;\n  border:0px solid greenyellow;\n  font-size: calc(8px + 4vmin);\n}\n\n.contentBody {\n  width:100%;\n  border:0px solid greenyellow;\n  font-size: calc(8px + 20vmin);\n}\n\n.contentFooter {\n  border:0px solid greenyellow;\n  width:50%;\n  font-size: calc(8px + 2vmin);\n  word-wrap: break-word;\n  overflow-wrap: break-word;\n}\n"]);return S=function(){return t},t}var w=function(t){function e(t){var r;return Object(c.a)(this,e),(r=Object(u.a)(this,Object(p.a)(e).call(this,t))).timerInterval=0,r.userModel=null,r.userState=null,r.workerProcess=null,r.setBatteryState=function(){var t=Object(s.a)(o.a.mark(function t(e){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r.setState({userState:r.userModel.setUserState(r.userState=Object(i.a)({},r.userState,e))});case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),r.getBatteryAPI=Object(s.a)(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!("getBattery"in navigator)){t.next=7;break}return console.log(g.a.getBatteryTimeText(r.userState.currBatteryTime)+" - The Battery Status API is supported on this platform."),console.log(r.userState),t.next=5,navigator.getBattery().then(function(t){return r.setBatteryState({batteryLevel:t.level,batteryState:t.charging,currBatteryTime:Date.now()})});case 5:t.next=8;break;case 7:console.log("The Battery API is not supported on this platform");case 8:case"end":return t.stop()}},t,this)})),r.registerNotificationwithAccess=Object(s.a)(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:window.Notification&&"granted"!==Notification.permission&&Notification.requestPermission(function(t){Notification.permission!==t&&(Notification.permission=t)});case 1:case"end":return t.stop()}},t,this)})),r.state={userState:r.props.Model.state},r.userModel=r.props.Model,console.log("Home - "+Object.getOwnPropertyNames(r.props.Model)),r.userState=r.props.Model.state,console.log("User state - "+r.userState),r}return Object(d.a)(e,t),Object(l.a)(e,[{key:"onWorkerMessage",value:function(){var t=Object(s.a)(o.a.mark(function t(e){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.setBatteryState({workerProcess:{instance:this.workerProcess,started:!1}}),this.callNotification(),console.log(g.a.getBatteryTimeText(Date.now())+" : "+e.data);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"callNotification",value:function(){var t=Object(s.a)(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return alert("Notification called @ "+g.a.getBatteryTimeText(this.userState.currBatteryTime)),console.log("Notification called @ "+g.a.getBatteryTimeText(this.userState.currBatteryTime)),e=g.a.getBatteryStateText(this.userState.notifyBatteryState)+" with "+this.userState.notifyBatteryLevel.toString()+"% is now complete.",t.next=5,g.a.showNotification(this.props.AppTitle,v.a,e);case 5:console.log("Notification posted @ "+g.a.getBatteryTimeText(this.userState.currBatteryTime)),alert("Notification posted @ "+g.a.getBatteryTimeText(this.userState.currBatteryTime));case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var t=this;this.timerInterval=setInterval(Object(s.a)(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getBatteryAPI();case 2:!1===t.userState.notificationSent&&t.userState.batteryState===t.userState.notifyBatteryState&&100*t.userState.batteryLevel===t.userState.notifyBatteryLevel?(t.callNotification(),t.setBatteryState({notificationSent:!0}),clearInterval(t.timerInterval)):t.userState.batteryState===t.userState.notifyBatteryState&&(t.userState.batteryState&&100*t.userState.batteryLevel>=t.userState.notifyBatteryLevel||!t.userState.batteryState&&100*t.userState.batteryLevel<=t.userState.notifyBatteryLevel)&&clearInterval(t.timerInterval);case 3:case"end":return e.stop()}},e,this)})),1e3),this.registerNotificationwithAccess()}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerInterval),this.setBatteryState({workerProcess:{instance:this.workerProcess,started:!0}}),console.log("did unmount process status:",this.userState.workerProcess.started),this.workerProcess=null,console.log("background worker process is still working although home component is unmounted")}},{key:"render",value:function(){var t=100*this.userState.batteryLevel;return y.a.createElement(b,null,y.a.createElement("div",{className:"App App-body"},y.a.createElement("div",{className:"circle",style:{backgroundColor:g.a.bgColor(t),color:g.a.fontColor(t)}},y.a.createElement("div",{className:"innerCircleContents"},y.a.createElement("div",{className:"contentHeader",ref:"contentHeader"},g.a.getBatteryStateText(this.userState.batteryState)),y.a.createElement("div",{className:"contentBody",ref:"contentBody"},g.a.getBatteryLevelText(this.userState.batteryLevel)),y.a.createElement("div",{className:"contentFooter",ref:"contentFooter"},g.a.getBatteryTimeText(this.userState.currBatteryTime))))))}}]),e}(f.Component),b=m.a.div(S());e.default=w}}]);
//# sourceMappingURL=3.a9a1f3d5.chunk.js.map