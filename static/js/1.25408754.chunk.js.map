{"version":3,"sources":["Components/Utils.js","Components/Header.js","Components/Container.js"],"names":["Utils","bgColor","percent","r","Math","floor","g","parsedRColor","isNaN","parseInt","toString","parsedGColor","fontColor","getBatteryStateText","batState","getBatteryLevelText","batLvl","getBatteryTimeText","timeTxt","dateVal","Date","toLocaleDateString","toLocaleTimeString","showNotification","_showNotification","Object","C_Users_Nilesh_OneDrive_Documents_VSCodeProjects_reactjsbatterynotifier_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__","C_Users_Nilesh_OneDrive_Documents_VSCodeProjects_reactjsbatterynotifier_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default","a","mark","_callee10","title","logo","body","appTitle","text","notifyWithNoSW","notifywithSWReadyRegister","notifywithGetRegister","callNotify","wrap","_context10","prev","next","_ref","_callee","_context","Notification","icon","tag","t0","_this","logText","concat","abrupt","stop","this","apply","arguments","_ref2","_callee4","_context4","navigator","serviceWorker","ready","then","_ref3","_callee2","registration","_context2","vibrate","_x4","catch","_ref4","_callee3","err","_context3","sent","_x5","_ref5","_callee7","_context7","getRegistration","_ref6","_callee5","_context5","undefined","data","dateOfArrival","now","primaryKey","_x6","_ref7","_callee6","_context6","_x7","_ref8","_callee8","_context8","t1","window","permission","requestermission","_ref9","_callee9","status","_context9","_x8","_x","_x2","_x3","getDbContext","_getDbContext","_callee11","_context11","idb","open","upgradeDB","oldVersion","createObjectStore","keyPath","autoIncrement","storeItemsLocally","_storeItemsLocally","_callee12","dbcontext","obj","_context12","db","tx","transaction","objectStore","clear","put","C_Users_Nilesh_OneDrive_Documents_VSCodeProjects_reactjsbatterynotifier_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","complete","_x9","_x10","getItemsLocally","_getItemsLocally","_callee13","listItems","_context13","Set","getAll","allObjs","C_Users_Nilesh_OneDrive_Documents_VSCodeProjects_reactjsbatterynotifier_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","map","s","add","_x11","args","console","log","Wrapper","styled","div","_templateObject","Header","react_default","createElement","es","to","Home","React","lazy","__webpack_require__","e","bind","Settings","About","Container_templateObject","withRouter","location","AppTitle","Model","screen","Container_Wrapper","react_transition_group","className","key","timeout","enter","exit","classNames","Components_Header","Suspense","fallback","Loading","exact","path","render","props","assign","match","params","hidden"],"mappings":"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","file":"static/js/1.25408754.chunk.js","sourcesContent":["import idb from \"idb\";\r\nlet Utils = {\r\n\r\n    bgColor: (percent) => {\r\n        const r = percent < 50 || percent === 0 ? 255 : Math.floor(255-(percent*2-100)*255/100);\r\n        const g = percent > 50 ? 255 : Math.floor(((percent*2)*255)/100);\r\n        const parsedRColor = !isNaN(parseInt(r.toString())) ? parseInt(r.toString()) : 0;\r\n        const parsedGColor = !isNaN(parseInt(g.toString())) ? parseInt(g.toString()) : 0;\r\n        //this.Utils.logText('bgColor for '+ percent.toString() +' : rgb(' + parsedRColor.toString() + ',' + parsedGColor.toString() + ',0)');\r\n        return 'rgb(' + parsedRColor.toString() + ',' + parsedGColor.toString() + ',0)';\r\n    },\r\n\r\n    fontColor: (percent) => {\r\n        return 'black';//(percent >= 45 && percent <= 60) ? 'black' : 'white';\r\n    },\r\n\r\n    getBatteryStateText: (batState) => {\r\n\t\tif (batState != null) {\r\n\t\t\tif (batState === true) {\r\n\t\t\t\treturn 'Charging';\r\n\t\t\t} else if (batState === false) {\r\n\t\t\t\treturn 'Discharging';\r\n\t\t\t} else {\r\n\t\t\t\treturn 'Full';\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn '';\r\n\t\t}\r\n\t},\r\n\r\n\tgetBatteryLevelText: (batLvl) => {\r\n\t\treturn Math.floor(batLvl * 100) + '%';\r\n\t},\r\n\r\n\tgetBatteryTimeText: (timeTxt) => {\r\n\t\tconst dateVal = new Date(timeTxt)\r\n\t\treturn dateVal.toLocaleDateString() + ' ' + dateVal.toLocaleTimeString();\r\n\t},\r\n\r\n\tshowNotification: async (title, logo, body) => {\r\n\t\tconst appTitle = title;\r\n\t\tconst text = body;\r\n\t\tconst notifyWithNoSW = async () => {\r\n\t\t\ttry {\r\n\t\t\t\tnew Notification(appTitle+':NoSW', {\r\n\t\t\t\t\tbody: text,\r\n\t\t\t\t\ticon: logo,\r\n\t\t\t\t\ttag: 'soManyNotification'\r\n\t\t\t\t});\t\t\t\t\t\r\n\t\t\t} catch (err) {\r\n\t\t\t\tthis.Utils.logText(`Error for new Notification : ${err}`);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tconst notifywithSWReadyRegister = async () => {\r\n\t\t\tnavigator.serviceWorker.ready\r\n\t\t\t\t.then(async (registration) => {\r\n\t\t\t\t\tregistration.showNotification(appTitle+':SWReady', {\r\n\t\t\t\t\t\tbody: text,\r\n\t\t\t\t\t\ticon: logo,\r\n\t\t\t\t\t\tvibrate: [200, 100, 200, 100, 200, 100, 200],\r\n\t\t\t\t\t\ttag: title\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch(async err => {\r\n\t\t\t\t\tthis.Utils.logText(`Error for notifywithSWReadyRegister : ${err}`);\r\n\t\t\t\t\treturn await notifyWithNoSW();\r\n\t\t\t\t});\r\n\t\t\t\treturn true;\r\n\t\t};\t\r\n\r\n\t\tconst notifywithGetRegister = async () => {\r\n\t\t\tnavigator.serviceWorker.getRegistration().then(async (registration) => {\r\n\t\t\t\tthis.Utils.logText('SW registration : ', registration)\r\n\t\t\t\tif(registration !== undefined) {\r\n\t\t\t\t\tregistration.showNotification(appTitle+':SWGRegister', {\r\n\t\t\t\t\t\tbody: text,\r\n\t\t\t\t\t\ticon: logo,\r\n\t\t\t\t\t\tvibrate: [100, 50, 100],\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tdateOfArrival: Date.now(),\r\n\t\t\t\t\t\t\tprimaryKey: 1\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t// actions: [\r\n\t\t\t\t\t\t// \t{action: 'explore', title: 'Explore this new world',\r\n\t\t\t\t\t\t// \t\ticon: 'images/checkmark.png'},\r\n\t\t\t\t\t\t// \t{action: 'close', title: 'Close notification',\r\n\t\t\t\t\t\t// \t\ticon: 'images/xmark.png'},\r\n\t\t\t\t\t\t// ]\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\treturn await notifywithSWReadyRegister();\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(async err => {\r\n\t\t\t\tthis.Utils.logText(`Error for notifywithGetRegister : ${err}`)\r\n\t\t\t});\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tconst callNotify = async () => {\r\n\t\t\tif(await navigator.serviceWorker.getRegistration() !== undefined) {\r\n\t\t\t\treturn await(notifywithSWReadyRegister() || notifywithGetRegister())\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn await notifyWithNoSW(); \r\n\t\t\t}\t\t\t\r\n\t\t}\r\n\r\n\t\tif (window.Notification && Notification.permission === \"granted\") {\r\n\t\t\treturn await callNotify();\r\n\t\t} else if (window.Notification && Notification.permission !== \"denied\") {\r\n\t\t\tNotification.requestermission(async (status) => {\r\n\t\t\t\tif (status === \"granted\") {\r\n\t\t\t\t\treturn await callNotify();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.Utils.logText(\"permission not granted - 2\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.Utils.logText(\"permission not granted - 1\");\r\n\t\t}\r\n\t},\r\n\r\n\tgetDbContext: async () => {\r\n    return idb.open('BatteryNotifierDatabase', 1, upgradeDB => {\r\n      switch (upgradeDB.oldVersion) {\r\n        case 1:\r\n          upgradeDB.createObjectStore('BatteryNotifierList', {keyPath: 'id', autoIncrement:true});\r\n          break;\r\n        default:\r\n          upgradeDB.createObjectStore('BatteryNotifierList', {keyPath: 'id', autoIncrement:true});  \r\n      }\r\n    });\r\n  },\r\n\r\n  storeItemsLocally: async (dbcontext, obj) => {\r\n    dbcontext\r\n        .then(db => {\r\n          const tx = db.transaction('BatteryNotifierList', 'readwrite');\r\n          tx.objectStore('BatteryNotifierList').clear();\r\n\t\t\t\t\ttx.objectStore('BatteryNotifierList').put({...obj})\r\n          return tx.complete;\r\n        })\r\n        .catch(err => {\r\n          this.Utils.logText(`Error: ${err}`)\r\n          return false;\r\n        });\r\n  },\r\n\r\n  getItemsLocally: async (dbcontext) => {\r\n    let listItems = new Set();\r\n    return dbcontext\r\n                .then(db => {\r\n                  return db.transaction('BatteryNotifierList').objectStore('BatteryNotifierList').getAll();\r\n                })\r\n                .then(allObjs => {\r\n                  [...allObjs].map(s => listItems.add({ ...s }));\r\n                  return listItems;\r\n                })\r\n                .catch(err => {\r\n                  this.Utils.logText(`Error: ${err}`)\r\n                  return listItems;\r\n                });\r\n\t},\r\n\t\r\n\tlogText: (text, args) => console.log(text,args || '')\r\n\r\n}\r\n\r\nexport default Utils;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <Wrapper>\r\n      <ul>\r\n        <li>\r\n          <Link to=\"/\" >Home</Link>\r\n        </li>\r\n        <li>\r\n          <Link to=\"/settings\" >Settings</Link>\r\n        </li>\r\n        <li>\r\n          <Link to=\"/about\" >About</Link>\r\n        </li>\r\n      </ul>\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n \r\n  margin: 0;\r\n  padding:0px 0px 0px 0px;\r\n  height: 5%;\r\n  display: grid;\r\n  place-items: center;\r\n  background-color: transparent;\r\n  border:solid 0px yellow;\r\n\r\n  ul {\r\n    margin: 0;\r\n    padding:5px 3px 5px 3px;\r\n    border:solid 0px yellow;\r\n    border-radius:5px;\r\n    background-color:rgb(255,255,255,0.8);\r\n    transform: scale(1);\r\n    transition:transform ease-in-out 250;\r\n  }\r\n\r\n  li {\r\n    display: inline-block;\r\n    padding:2px;\r\n    transform:scale(1);\r\n    transition:transform ease-in-out 250;\r\n\r\n    a {\r\n      background-color: lightgreen;\r\n      padding:2px 3px 2px 3px;\r\n      text-decoration: none;\r\n      font-size: 1em;\r\n      color: black;\r\n      font-weight:bold;\r\n      border-radius:4px;\r\n    }\r\n  }\r\n\r\n  ul:hover, li:hover {\r\n    transform:scale(1.070);\r\n  }\r\n`;\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Switch, Route, withRouter } from \"react-router-dom\";\r\nimport { TransitionGroup, CSSTransition } from \"react-transition-group\";\r\nimport Loading from \"./Loading\";\r\nimport Header from \"./Header\";\r\nimport Utils from \"./Utils\";\r\nconst Home = React.lazy(() => import(\"./Home\"));  \r\nconst Settings = React.lazy(() => import(\"./Settings\"));\r\nconst About = React.lazy(() => import(\"./About\"));\r\n\r\nfunction Container({ location, AppTitle, Model }) {\r\n  Utils.logText('Container - ', Model);\r\n  Utils.logText('location : ', location);\r\n  Utils.logText('version : ', 1);\r\n  // eslint-disable-next-line no-restricted-globals\r\n  Utils.logText('screen orientation: ',('orientation' in screen));\r\n  return (\r\n    <Wrapper>\r\n      <TransitionGroup className=\"transition-group\">\r\n        <CSSTransition\r\n          key={location.key}\r\n          timeout={{ enter: 300, exit: 300 }}\r\n          classNames=\"fade\"\r\n        >\r\n          <section className=\"route-section\">\r\n            <div className=\"headerOverlay\">\r\n              <Header />\r\n            </div>\r\n            <React.Suspense fallback={<Loading />} >\r\n              <Switch location={location}>\r\n                <Route exact path={`/`} render={(props) => <Home {...props.match.params} AppTitle={AppTitle} Model={Model} /> } />\r\n                <Route path={`/settings`} render={(props) => <Settings hidden={true} {...props.match.params} Model={Model} /> } />\r\n                <Route path={`/about`} render={(props) => <About hidden={true} {...props.match.params} Model={Model} /> } />\r\n              </Switch>\r\n            </React.Suspense>  \r\n          </section>\r\n        </CSSTransition>\r\n      </TransitionGroup>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  .fade-enter {\r\n    opacity: 0.01;\r\n  }\r\n\r\n  .fade-enter.fade-enter-active {\r\n    opacity: 1;\r\n    transition: opacity 300ms ease-in;\r\n  }\r\n\r\n  .fade-exit {\r\n    opacity: 1;\r\n  }\r\n\r\n  .fade-exit.fade-exit-active {\r\n    opacity: 0.01;\r\n    transition: opacity 300ms ease-in;\r\n  }\r\n\r\n  div.transition-group {\r\n    position: relative;\r\n  }\r\n\r\n  section.route-section {\r\n    position: absolute;\r\n    width: 100%;\r\n    top: 0;\r\n    left: 0;\r\n  }\r\n\r\n  .headerOverlay {\r\n    width:99.8vw;\r\n    margin:0;\r\n    padding:0;\r\n    top:4px;\r\n    z-index:1;\r\n    position:absolute;\r\n    display:grid;\r\n    place-items:stretch;\r\n    border:solid 0px red;\r\n  }\r\n\r\n`;\r\n\r\nexport default withRouter(Container);\r\n"],"sourceRoot":""}