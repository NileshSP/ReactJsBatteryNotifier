{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/inherits.js","Components/Home.js"],"names":["_getPrototypeOf","o","Object","setPrototypeOf","getPrototypeOf","__proto__","__webpack_require__","d","__webpack_exports__","_typeof2","obj","Symbol","iterator","constructor","prototype","_typeof","_possibleConstructorReturn","self","call","ReferenceError","_assertThisInitialized","_setPrototypeOf","p","_inherits","subClass","superClass","TypeError","create","value","writable","configurable","Home","props","_this","C_VSCodeProjects_reactjsbatterynotifier_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__","this","C_VSCodeProjects_reactjsbatterynotifier_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7__","C_VSCodeProjects_reactjsbatterynotifier_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8__","timerInterval","userModel","userState","workerProcess","swRegistration","setBatteryState","_ref","C_VSCodeProjects_reactjsbatterynotifier_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__","C_VSCodeProjects_reactjsbatterynotifier_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default","a","mark","_callee","batteryOptions","wrap","_context","prev","next","t0","t1","Utils","t2","sent","t3","setUserState","t4","t5","postMessage","cmd","msg","JSON","parse","stringify","setState","stop","_x","apply","arguments","getBatteryAPI","_callee2","_context2","navigator","getBattery","then","battery","batteryLevel","level","batteryState","charging","currBatteryTime","Date","now","abrupt","getBatteryTimeText","time","registerNotificationwithAccess","_callee3","_context3","console","log","serviceWorker","getRegistrations","undefined","length","displayToastMessage","toastMessage","react__WEBPACK_IMPORTED_MODULE_10___default","createElement","Notification","permission","requestPermission","status","callNotification","_callee4","notificationBody","_context4","getBatteryStateText","notifyBatteryState","notifyBatteryLevel","toString","showNotification","AppTitle","logo","notificationSent","_ref5","_callee8","message","hideAfter","setStateMessage","callSetStateWithTimeOut","_context8","_ref6","_callee5","_context5","state","C_VSCodeProjects_reactjsbatterynotifier_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__","_x4","_ref7","_callee7","timeOutValue","_context7","setTimeout","_callee6","_context6","_x5","_x6","toastClassName","_x2","_x3","getChangesLocally","_callee9","localValues","_context9","getItemsLocally","getDbContext","C_VSCodeProjects_reactjsbatterynotifier_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__","forEach","s","Model","ready","ev","data","instance","started","_this2","target","href","setInterval","_callee11","_context11","clearInterval","Wrapper","className","style","backgroundColor","bgColor","color","fontColor","ref","getBatteryLevelText","showToastMessage","React","Component","styled","div","_templateObject"],"mappings":"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","file":"static/js/4.0c62c404.chunk.js","sourcesContent":["export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nexport default function _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import React from 'react';\r\nimport styled from \"styled-components\";\r\nimport logo from \"../ic_launcher.png\";\r\nimport Utils from './Utils';\r\n\r\nclass Home extends React.Component {\r\n\r\n  timerInterval = 0;\r\n  userModel = null;\r\n  userState = null;\r\n  workerProcess = null;\r\n  swRegistration = null;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      userState : this.props.Model.state,\r\n      toastMessage: '',\r\n      toastClassName: ''\r\n    }\r\n    this.userModel = this.props.Model;\r\n    console.log('Home - ', this.props.Model);\r\n    this.userState = this.props.Model.state;\r\n    console.log('User state - ', this.userState);\r\n    this.swRegistration = navigator.serviceWorker.ready;\r\n  }\r\n\r\n  async onWorkerMessage(ev) {\r\n    switch (ev.data.cmd) {\r\n      case 'log':\r\n        console.log(ev.data.data)\r\n        break;\r\n      case 'intervallog':\r\n        console.log('Worker Interval at:', Utils.getBatteryTimeText(ev.data.data))\r\n        break;\r\n      case 'stop':\r\n          this.setBatteryState({workerProcess: { instance: this.workerProcess, started: false }})\r\n          this.callNotification();\r\n          console.log(ev.data.data)\r\n      break;\r\n      default:\r\n        console.log('Unknown worker message received', ev.data)\r\n    };\r\n  }\r\n\r\n  setBatteryState = async (batteryOptions) => {\r\n    this.setState({\r\n      userState: this.userModel.setUserState(\r\n        this.userState = await Utils.setBatteryState(batteryOptions, this.userState)\r\n      )\r\n    },() => { \r\n        if(this.workerProcess) \r\n          this.workerProcess.postMessage({'cmd': 'usermodelstate', 'msg': JSON.parse(JSON.stringify(this.userState)) })\r\n      }\r\n    );\r\n  }\r\n\r\n  getBatteryAPI = async () => await navigator.getBattery().then(battery => this.setBatteryState({ batteryLevel: battery.level, batteryState: battery.charging, currBatteryTime: Date.now(), }));\r\n\r\n  getBatteryTimeText = (time) => Utils.getBatteryTimeText(time)\r\n\r\n  registerNotificationwithAccess = async () => {\r\n    console.log('Notification access called')\r\n    console.log('SW registrations : ', await navigator.serviceWorker.getRegistrations())\r\n    console.log('SW registration : ', this.swRegistration)\r\n    if(this.swRegistration === undefined || (await navigator.serviceWorker.getRegistrations()).length === 0){\r\n      await this.displayToastMessage({toastMessage : [<span>Local Notification capability currently not available - { this.getBatteryTimeText(this.userState.currBatteryTime) } </span>] }, 10000);\r\n      console.log('Notification API currently not available')\r\n    }\r\n    else {\r\n      if (Notification.permission !== \"granted\") {\r\n        this.displayToastMessage({ toastMessage: [<span>Kindly grant notification access for this app to work</span>] })\r\n        Notification.requestPermission(function (status) {\r\n          if (Notification.permission !== status) {\r\n            Notification.permission = status;\r\n          }\r\n        }).then(status => {\r\n          console.log('Notification Status : ',status)\r\n          if(status === 'granted') {\r\n            this.displayToastMessage({ toastMessage: '' })\r\n          }             \r\n        });\r\n      }\r\n      else {\r\n        console.log('Notification access is already granted')\r\n      }\r\n    }\r\n  }\r\n\r\n  callNotification = async () => {\r\n    const notificationBody = Utils.getBatteryStateText(this.userState.notifyBatteryState) + ' with ' + this.userState.notifyBatteryLevel.toString() + '% is now complete.';\r\n    const result = await Utils.showNotification(this.props.AppTitle, logo, notificationBody);\r\n    if (result) { \r\n      this.setBatteryState({ notificationSent : true });\r\n      await this.displayToastMessage({toastMessage : [<span>Notification posted @ { this.getBatteryTimeText(this.userState.currBatteryTime) } </span>] }, 10000);\r\n    }\r\n  }\r\n\r\n  displayToastMessage = async(message, hideAfter) => {\r\n    const setStateMessage = async (msg) => { \r\n        if(this.state !== undefined) {\r\n          await this.setState({...this.state, ...msg},() => console.log('Notification toast called with message: ',this.state.toastMessage, this.getBatteryTimeText(new Date())));\r\n        }\r\n      }\r\n\r\n    const callSetStateWithTimeOut = async (msg, timeOutValue) => await setTimeout(async() => { \r\n      await setStateMessage(msg)\r\n      console.log('close toast called!!');\r\n    }, timeOutValue);\r\n\r\n    await setStateMessage({...message, toastClassName: 'animated fadeInUpBig'});\r\n    if(hideAfter !== undefined) { \r\n        await callSetStateWithTimeOut({...message, toastClassName: 'animated fadeOutDownBig'}, hideAfter);\r\n        await callSetStateWithTimeOut({toastMessage : '', toastClassName: ''}, hideAfter+1000);        \r\n    }\r\n  }\r\n\r\n  getChangesLocally = async () => {\r\n    console.log('checking for local values ..');\r\n    const localValues = await Utils.getItemsLocally(Utils.getDbContext());\r\n    console.log('local values count : ',[...localValues].length);   \r\n    [...localValues].forEach(s => {\r\n      const localValues = {notifyBatteryLevel: s.notifyBatteryLevel, notifyBatteryState: s.notifyBatteryState }\r\n      this.setBatteryState(localValues);\r\n      console.log('local value is : ',localValues);\r\n    })\r\n  }\r\n\r\n  async componentDidMount() {\r\n    //this.displayToastMessage({ toastMessage: [<span>Battery API is not supported in current browser, please try the link in <a target=\"blank\" href=\"https://www.google.com/chrome/\">Chrome</a> browser</span>] }, 5000);\r\n    if ('getBattery' in navigator) {\r\n      console.log(this.getBatteryTimeText(this.userState.currBatteryTime) + ' - The Battery Status API is supported on this platform.');\r\n      this.getChangesLocally();\r\n      setTimeout(() => this.registerNotificationwithAccess(), 3000);\r\n    } \r\n    else {\r\n      this.displayToastMessage({ toastMessage: [<span>Battery API is not supported in current browser, please try the link in <a target=\"blank\" href=\"https://www.google.com/chrome/\">Chrome</a> browser</span>] });\r\n    }\r\n\r\n    this.timerInterval = setInterval(async () => { \r\n      await this.getBatteryAPI() \r\n      //console.log('current user model state : ', this.userState)\r\n      if(this.swRegistration !== undefined \r\n        && this.userState.notificationSent === false \r\n        && this.userState.batteryState === this.userState.notifyBatteryState \r\n        && this.userState.batteryLevel*100 ===  this.userState.notifyBatteryLevel) {\r\n        //console.log('Display local notification called with current user model state : ', this.userState)\r\n        this.callNotification();\r\n        //clearInterval(this.timerInterval);\r\n      }\r\n      else if(this.userState.batteryState === this.userState.notifyBatteryState \r\n        && ((this.userState.batteryState && this.userState.batteryLevel*100 >= this.userState.notifyBatteryLevel) \r\n            || (!this.userState.batteryState && this.userState.batteryLevel*100 <= this.userState.notifyBatteryLevel))) {\r\n        //clearInterval(this.timerInterval);\r\n      }\r\n    }, 1000);\r\n\r\n    // if(this.userState.workerProcess !== undefined && this.workerProcess === null) {\r\n    //   this.workerProcess = this.userState.workerProcess.instance;\r\n    //   console.log('did mount process status:', this.userState.workerProcess.started);\r\n    //   if(!this.userState.workerProcess.started) {\r\n    //     this.workerProcess.postMessage({'cmd': 'usermodelstate', 'msg': JSON.parse(JSON.stringify(this.userState)) });\r\n    //     this.workerProcess.postMessage({'cmd': 'start', 'msg': 'from Home component' });\r\n    //     this.setBatteryState({ workerProcess: { instance: this.workerProcess, started: true }});\r\n    //     console.log('background worker process started');\r\n    //   }\r\n    //   this.workerProcess.addEventListener('message', (e) => this.onWorkerMessage(e));\r\n    //   console.log('background worker onmessage attached');\r\n    // }\r\n  }\r\n\r\n  async componentWillUnmount() {\r\n    clearInterval(this.timerInterval);\r\n    if(this.workerProcess) {\r\n      this.workerProcess.postMessage({'cmd': 'stop', 'msg': 'from main thread'});\r\n      await this.setBatteryState({ workerProcess: { instance: this.workerProcess, started: true }});\r\n      console.log('did unmount process status:', this.userState.workerProcess.started);\r\n      this.workerProcess = null;\r\n      console.log('background worker process is still working although home component is unmounted');\r\n    }\r\n  }\r\n\r\n  render() {     \r\n    const batteryLevel = this.userState.batteryLevel*100;\r\n    return (\r\n      <Wrapper>\r\n        <div className=\"App App-body animated heartBeat\">\r\n            <div className=\"circle animated shake delay-1s\" \r\n                style={{ backgroundColor: Utils.bgColor(batteryLevel)\r\n                        , color: Utils.fontColor(batteryLevel) }} >\r\n              <div className=\"innerCircleContents\" >\r\n                <div className=\"contentHeader\" ref=\"contentHeader\">\r\n                  {Utils.getBatteryStateText(this.userState.batteryState)}\r\n                </div>\r\n                <div className=\"contentBody animated flash\" ref=\"contentBody\">\r\n                  {Utils.getBatteryLevelText(this.userState.batteryLevel)}\r\n                </div>\r\n                <div className=\"contentFooter\" ref=\"contentFooter\">\r\n                  {this.getBatteryTimeText(this.userState.currBatteryTime)}\r\n                </div>\r\n              </div>\r\n            </div>\r\n        </div>\r\n        {Utils.showToastMessage(this.state.toastMessage, this.state.toastClassName)}\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n.App {\r\n  text-align: center;  \r\n  background-color: #282c34;\r\n  min-height: 100vh;\r\n}\r\n\r\n.App-body {\r\n  display: grid;\r\n  place-items:center;\r\n}\r\n\r\n.circle {\r\n  width:45vmax;\r\n  height:45vmax;\r\n  border-radius:50%;\r\n  box-sizing: border-box;\r\n  position:relative;\r\n  background:rgb(240, 16, 102);\r\n  color: black;\r\n  font-family: Helvetica, Arial Black, sans;\r\n  border:solid 0px greenyellow;\r\n  transform: scale(1);\r\n  transition:transform ease-in-out 250;\r\n}\r\n\r\n.circle:hover {\r\n  transform:scale(1.010);\r\n}\r\n\r\n.innerCircleContents {\r\n  margin:auto;\r\n  padding:25% 0;\r\n  width:100%;\r\n  height:50%;\r\n  place-items:center;\r\n  display: grid;\r\n  grid-auto-flow:row;\r\n  grid-gap: 5px;\r\n}\r\n\r\n.contentHeader {\r\n  width:50%;\r\n  border:0px solid greenyellow;\r\n  font-size: calc(8px + 4vmin);\r\n}\r\n\r\n.contentBody {\r\n  width:100%;\r\n  border:0px solid greenyellow;\r\n  font-size: calc(8px + 20vmin);\r\n}\r\n\r\n.contentFooter {\r\n  border:0px solid greenyellow;\r\n  width:50%;\r\n  font-size: calc(8px + 2vmin);\r\n  word-wrap: break-word;\r\n  overflow-wrap: break-word;\r\n}\r\n\r\n`\r\nexport default Home;\r\n"],"sourceRoot":""}