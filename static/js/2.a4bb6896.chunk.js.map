{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","Components/Utils.js","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/inherits.js","Components/Home.js"],"names":["_getPrototypeOf","o","Object","setPrototypeOf","getPrototypeOf","__proto__","__webpack_require__","d","__webpack_exports__","Utils","bgColor","percent","r","Math","floor","g","parsedRColor","isNaN","parseInt","toString","parsedGColor","fontColor","getBatteryStateText","batState","getBatteryLevelText","batLvl","getBatteryTimeText","timeTxt","dateVal","Date","toLocaleDateString","toLocaleTimeString","showNotification","_showNotification","C_Users_Nilesh_OneDrive_Documents_VSCodeProjects_reactjsbatterynotifier_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","C_Users_Nilesh_OneDrive_Documents_VSCodeProjects_reactjsbatterynotifier_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","title","logo","body","appTitle","text","notify","wrap","_context","prev","next","navigator","serviceWorker","getRegistration","then","reg","options","icon","vibrate","data","dateOfArrival","now","primaryKey","window","Notification","permission","requestermission","status","console","log","stop","this","_x","_x2","_x3","apply","arguments","_typeof2","obj","Symbol","iterator","constructor","prototype","_typeof","_possibleConstructorReturn","self","call","ReferenceError","_assertThisInitialized","_setPrototypeOf","p","_inherits","subClass","superClass","TypeError","create","value","writable","configurable","Home","props","_this","C_Users_Nilesh_OneDrive_Documents_VSCodeProjects_reactjsbatterynotifier_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_4__","C_Users_Nilesh_OneDrive_Documents_VSCodeProjects_reactjsbatterynotifier_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__","C_Users_Nilesh_OneDrive_Documents_VSCodeProjects_reactjsbatterynotifier_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__","timerInterval","userModel","userState","workerProcess","setBatteryState","_ref","C_Users_Nilesh_OneDrive_Documents_VSCodeProjects_reactjsbatterynotifier_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__","C_Users_Nilesh_OneDrive_Documents_VSCodeProjects_reactjsbatterynotifier_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","batteryOptions","setState","setUserState","C_Users_Nilesh_OneDrive_Documents_VSCodeProjects_reactjsbatterynotifier_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__","getBatteryAPI","_callee2","_context2","getBattery","battery","batteryLevel","level","batteryState","charging","currBatteryTime","registerNotificationwithAccess","_callee3","_context3","requestPermission","callNotification","_callee4","notificationBody","_context4","notifyBatteryState","notifyBatteryLevel","AppTitle","state","Model","getOwnPropertyNames","ev","instance","started","msg","refs","snackbar","innerHTML","style","visibility","setInterval","_callee6","_context6","_this2","notificationSent","clearInterval","react__WEBPACK_IMPORTED_MODULE_9___default","createElement","Wrapper","className","backgroundColor","color","ref","id","Component","styled","div","_templateObject"],"mappings":"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","file":"static/js/2.a4bb6896.chunk.js","sourcesContent":["export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","let Utils = {\r\n\r\n    bgColor: (percent) => {\r\n        const r = percent < 50 || percent === 0 ? 255 : Math.floor(255-(percent*2-100)*255/100);\r\n        const g = percent > 50 ? 255 : Math.floor(((percent*2)*255)/100);\r\n        const parsedRColor = !isNaN(parseInt(r.toString())) ? parseInt(r.toString()) : 0;\r\n        const parsedGColor = !isNaN(parseInt(g.toString())) ? parseInt(g.toString()) : 0;\r\n        //console.log('bgColor for '+ percent.toString() +' : rgb(' + parsedRColor.toString() + ',' + parsedGColor.toString() + ',0)');\r\n        return 'rgb(' + parsedRColor.toString() + ',' + parsedGColor.toString() + ',0)';\r\n    },\r\n\r\n    fontColor: (percent) => {\r\n        return 'black';//(percent >= 45 && percent <= 60) ? 'black' : 'white';\r\n    },\r\n\r\n    getBatteryStateText: (batState) => {\r\n\t\tif (batState != null) {\r\n\t\t\tif (batState === true) {\r\n\t\t\t\treturn 'Charging';\r\n\t\t\t} else if (batState === false) {\r\n\t\t\t\treturn 'Discharging';\r\n\t\t\t} else {\r\n\t\t\t\treturn 'Full';\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn '';\r\n\t\t}\r\n\t},\r\n\r\n\tgetBatteryLevelText: (batLvl) => {\r\n\t\treturn Math.floor(batLvl * 100) + '%';\r\n\t},\r\n\r\n\tgetBatteryTimeText: (timeTxt) => {\r\n\t\tconst dateVal = new Date(timeTxt)\r\n\t\treturn dateVal.toLocaleDateString() + ' ' + dateVal.toLocaleTimeString();\r\n\t},\r\n\r\n\tshowNotification: async (title, logo, body) => {\r\n\t\tconst appTitle = title;\r\n\t\tconst text = body;\r\n\t\tconst notify = () => {\r\n\t\t\tnavigator.serviceWorker.getRegistration().then(function(reg) {\r\n\t\t\t\tvar options = {\r\n\t\t\t\t\tbody: text,\r\n\t\t\t\t\ticon: logo,\r\n\t\t\t\t\tvibrate: [100, 50, 100],\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tdateOfArrival: Date.now(),\r\n\t\t\t\t\t\tprimaryKey: 1\r\n\t\t\t\t\t},\r\n\t\t\t\t\t// actions: [\r\n\t\t\t\t\t// \t{action: 'explore', title: 'Explore this new world',\r\n\t\t\t\t\t// \t\ticon: 'images/checkmark.png'},\r\n\t\t\t\t\t// \t{action: 'close', title: 'Close notification',\r\n\t\t\t\t\t// \t\ticon: 'images/xmark.png'},\r\n\t\t\t\t\t// ]\r\n\t\t\t\t};\r\n\t\t\t\treg.showNotification(appTitle, options);\r\n\t\t\t});\r\n\t\t\t// // navigator.serviceWorker.ready.then(function(registration) {\r\n      // //   registration.showNotification(appTitle+':SV', {\r\n      // //     body: text,\r\n      // //     icon: logo,\r\n      // //     vibrate: [200, 100, 200, 100, 200, 100, 200],\r\n      // //     tag: title\r\n      // //   });\r\n\t\t\t// // });\r\n\t\t\t// new Notification(appTitle, {\r\n\t\t\t// \tbody: text,\r\n\t\t\t// \ticon: logo,\r\n\t\t\t// \ttag: 'soManyNotification'\r\n\t\t\t// });\r\n\t\t}\r\n\t\tif (window.Notification && Notification.permission === \"granted\") {\r\n\t\t\tnotify();\r\n\t\t} else if (window.Notification && Notification.permission !== \"denied\") {\r\n\t\t\tNotification.requestermission(function (status) {\r\n\t\t\t\tif (status === \"granted\") {\r\n\t\t\t\t\tnotify();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log(\"permission not granted - 2\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tconsole.log(\"permission not granted - 1\");\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default Utils;\r\n","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nexport default function _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import React, { Component } from 'react';\nimport styled from \"styled-components\";\nimport logo from \"../assets/ic_launcher.png\";\nimport Utils from './Utils';\n\nclass Home extends Component {\n\n  timerInterval = 0;\n  userModel = null;\n  userState = null;\n  workerProcess = null;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      userState : this.props.Model.state\n    }\n    this.userModel = this.props.Model;\n    console.log('Home - ' + Object.getOwnPropertyNames(this.props.Model));\n    this.userState = this.props.Model.state;\n    console.log('User state - ' + this.userState);\n  }\n\n  async onWorkerMessage(ev) {\n    this.setBatteryState({workerProcess: { instance: this.workerProcess, started: false }})\n    this.callNotification();\n    console.log(Utils.getBatteryTimeText(Date.now()) + ' : ' + ev.data);\n  }\n\n  setBatteryState = async (batteryOptions) => {\n    this.setState({\n      userState: this.userModel.setUserState(\n        this.userState = {\n          ...this.userState,\n          ...batteryOptions,\n        }\n      )\n    },);\n  }\n\n  getBatteryAPI = async () => {\n      //console.log(this.userState);\n      await navigator.getBattery().then(battery => this.setBatteryState({ batteryLevel: battery.level, batteryState: battery.charging, currBatteryTime: Date.now(), }));\n  }\n\n  registerNotificationwithAccess = async () => {\n    if (window.Notification && Notification.permission !== \"granted\") {\n      Notification.requestPermission(function (status) {\n        if (Notification.permission !== status) {\n          Notification.permission = status;\n        }\n      });\n    }\n  }\n\n  callNotification = async () => {\n    console.log('Notification called @ '+ Utils.getBatteryTimeText(this.userState.currBatteryTime));\n    const notificationBody = Utils.getBatteryStateText(this.userState.notifyBatteryState) + ' with ' + this.userState.notifyBatteryLevel.toString() + '% is now complete.';\n    await Utils.showNotification(this.props.AppTitle, logo, notificationBody);\n    console.log('Notification posted @ '+ Utils.getBatteryTimeText(this.userState.currBatteryTime));\n  }\n\n\n  async componentDidMount() {\n    if ('getBattery' in navigator) {\n      console.log(Utils.getBatteryTimeText(this.userState.currBatteryTime) + ' - The Battery Status API is supported on this platform.');\n    } \n    else {\n      const msg = `<span>Battery API is not supported in current browser, please try the link in <a target=\"blank\" href=\"https://www.google.com/chrome/\">Chrome</a> browser</span>`;\n      this.refs.snackbar.innerHTML = msg;\n      this.refs.snackbar.style.visibility = 'visible';\n      console.log(msg);\n    }\n\n    this.timerInterval = setInterval(async () => { \n      await this.getBatteryAPI() \n      if(this.userState.notificationSent === false && this.userState.batteryState === this.userState.notifyBatteryState && this.userState.batteryLevel*100 === this.userState.notifyBatteryLevel) {\n        this.callNotification();\n        this.setBatteryState({ notificationSent : true })\n        //clearInterval(this.timerInterval);\n      }\n      else if(this.userState.batteryState === this.userState.notifyBatteryState \n        && ((this.userState.batteryState && this.userState.batteryLevel*100 >= this.userState.notifyBatteryLevel) \n            || (!this.userState.batteryState && this.userState.batteryLevel*100 <= this.userState.notifyBatteryLevel))) {\n        //clearInterval(this.timerInterval);\n      }\n    }, 1000);\n\n    this.registerNotificationwithAccess();\n    //setTimeout(() => this.callNotification(), 5000);\n    \n    // if(this.userState.workerProcess !== undefined && this.workerProcess === null) {\n    //   this.workerProcess = this.userState.workerProcess.instance;\n    //   console.log('did mount process status:', this.userState.workerProcess.started);\n    //   if(!this.userState.workerProcess.started) {\n    //     let obj = {'cmd': 'start', 'msg': 'from Home component'};\n    //     this.workerProcess.postMessage(obj);\n    //     this.setBatteryState({ workerProcess: { instance: this.workerProcess, started: true }});\n    //     console.log('background worker process started');\n    //   }\n    //   this.workerProcess.addEventListener('message', (e) => this.onWorkerMessage(e));\n    //   console.log('background worker onmessage attached');\n    // }\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timerInterval);\n    //this.workerProcess.postMessage({'cmd': 'stop', 'msg': 'from main thread'});\n    this.setBatteryState({ workerProcess: { instance: this.workerProcess, started: true }});\n    console.log('did unmount process status:', this.userState.workerProcess.started);\n    this.workerProcess = null;\n    console.log('background worker process is still working although home component is unmounted');\n  }\n\n  render() {     \n    const batteryLevel = this.userState.batteryLevel*100;\n    return (\n      <Wrapper>\n        <div className=\"App App-body animated heartBeat\">\n            <div className=\"circle animated shake delay-1s\" \n                style={{ backgroundColor: Utils.bgColor(batteryLevel)\n                        , color: Utils.fontColor(batteryLevel) }} >\n              <div className=\"innerCircleContents\" >\n                <div className=\"contentHeader\" ref=\"contentHeader\">\n                  {Utils.getBatteryStateText(this.userState.batteryState)}\n                </div>\n                <div className=\"contentBody animated flash\" ref=\"contentBody\">\n                  {Utils.getBatteryLevelText(this.userState.batteryLevel)}\n                </div>\n                <div className=\"contentFooter\" ref=\"contentFooter\">\n                  {Utils.getBatteryTimeText(this.userState.currBatteryTime)}\n                </div>\n              </div>\n            </div>\n        </div>\n        <div ref=\"snackbar\" id=\"snackbar\" className=\"animated fadeInUpBig delay-2s\">Some text some message..</div>\n      </Wrapper>\n    );\n  }\n}\n\nconst Wrapper = styled.div`\n.App {\n  text-align: center;\n}\n\n.App-body {\n  background-color: #282c34;\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n\n.circle {\n  width:45vmax;\n  height:45vmax;\n  border-radius:50%;\n  box-sizing: border-box;\n  position:relative;\n  background:rgb(240, 16, 102);\n  color: black;\n  font-family: Helvetica, Arial Black, sans;\n  border:solid 0px greenyellow;\n  transform: scale(1);\n  transition:transform ease-in-out 250;\n}\n\n.circle:hover {\n  transform:scale(1.010);\n}\n\n.innerCircleContents {\n  margin:auto;\n  padding:25% 0;\n  width:100%;\n  height:50%;\n  place-items:center;\n  display: grid;\n  grid-auto-flow:row;\n  grid-gap: 5px;\n}\n\n.contentHeader {\n  width:50%;\n  border:0px solid greenyellow;\n  font-size: calc(8px + 4vmin);\n}\n\n.contentBody {\n  width:100%;\n  border:0px solid greenyellow;\n  font-size: calc(8px + 20vmin);\n}\n\n.contentFooter {\n  border:0px solid greenyellow;\n  width:50%;\n  font-size: calc(8px + 2vmin);\n  word-wrap: break-word;\n  overflow-wrap: break-word;\n}\n\n#snackbar {\n  visibility: hidden; /* Hidden by default. Visible on click */\n  // min-width: 280px; /* Set a default minimum width */\n  // margin-left: -140px; /* Divide value of min-width by 2 */\n  width:50vw;\n  background-color: greenyellow; /* Black background color */\n  color: black; /* White text color */\n  text-align: center; /* Centered text */\n  border-radius: 2px; /* Rounded borders */\n  padding: 12px; /* Padding */\n  position: fixed; /* Sit on top of the screen */\n  z-index: 1; /* Add a z-index if needed */\n  left: 25%; /* Center the snackbar */\n  bottom: 30px; /* 30px from the bottom */\n  font-size:.8em;\n}\n`\nexport default Home;\n"],"sourceRoot":""}