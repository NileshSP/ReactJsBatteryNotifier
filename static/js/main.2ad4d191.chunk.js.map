{"version":3,"sources":["Components/Utils.js","assets/ic_launcher.png","serviceWorker.js","global-styles.js","Components/UserModel.js","Components/WebWorker.js","Components/backgroundProcess.js","index.js"],"names":["Utils","setBatteryState","_setBatteryState","Object","C_VSCodeProjects_ReactJsBatteryNotifier_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__","C_VSCodeProjects_ReactJsBatteryNotifier_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","a","mark","_callee","batteryOptions","userState","wrap","_context","prev","next","abrupt","C_VSCodeProjects_ReactJsBatteryNotifier_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__","stop","_x","_x2","apply","this","arguments","loadingMessage","props","react__WEBPACK_IMPORTED_MODULE_4___default","createElement","style","margin","height","backgroundColor","textAlign","alignItems","paddingTop","display","gridAutoFlow","gridGap","placeItems","src","logo","alt","color","fontSize","toastMessage","styles","visibility","message","length","width","borderRadius","padding","position","zIndex","left","bottom","className","C_VSCodeProjects_ReactJsBatteryNotifier_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","map","text","index","key","showToastMessage","logText","_len","rest","Array","_key","console","log","bgColor","percent","r","Math","floor","g","parsedRColor","isNaN","parseInt","toString","parsedGColor","fontColor","getBatteryStateText","batState","getBatteryLevelText","batLvl","getBatteryTimeText","timeTxt","dateVal","Date","toLocaleDateString","toLocaleTimeString","showNotification","_showNotification","_callee5","title","body","appTitle","swRegistration","notifywithSWReadyRegister","callNotify","_context5","navigator","serviceWorker","ready","sent","_ref","_callee2","registration","_context2","icon","tag","data","dateOfArrival","now","primaryKey","t0","concat","_x6","_ref2","_callee3","_context3","undefined","window","Notification","permission","requestermission","_ref3","_callee4","status","_context4","_x7","_x3","_x4","_x5","getDbContext","_getDbContext","_callee6","_context6","idb","open","upgradeDB","oldVersion","createObjectStore","keyPath","autoIncrement","storeItemsLocally","_storeItemsLocally","_callee7","dbcontext","obj","_context7","JSON","parse","stringify","then","db","tx","transaction","objectStore","clear","put","complete","catch","err","_x8","_x9","getItemsLocally","_getItemsLocally","_callee8","listItems","_context8","Set","getAll","allObjs","s","add","_x10","module","exports","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","register","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","addEventListener","event","indexPage","Request","waitUntil","fetch","response","caches","cache","url","request","respondWith","error","matching","Promise","reject","onSuccess","injectGlobal","_templateObject","UserModel","classCallCheck","batteryLevel","batteryState","currBatteryTime","notifyBatteryLevel","notifyBatteryState","notificationSent","workerProcess","instance","started","createClass","value","_setUserState","asyncToGenerator","regenerator_default","objState","objectSpread","WebWorker","worker","code","blob","Blob","Worker","URL","createObjectURL","backgroundProcess","timerInterval","userModel","importScripts","onmessage","e","cmd","startMonitoring","postWorkerMessage","msg","stopMonitoring","setInterval","clearInterval","close","postMessage","Container","React","lazy","all","__webpack_require__","bind","ReactDOM","render","react_default","bgProcess","w","setUserState","es","Suspense","fallback","AppTitle","Model","document","getElementById","process","href","origin","contentType","headers","get","indexOf","unregister","reload","checkValidServiceWorker"],"mappings":"qLAIIA,EAAQ,CAEXC,gBAAe,eAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAE,SAAAC,EAAOC,EAAgBC,GAAvB,OAAAL,EAAAC,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAG,OAAA,SAAAZ,OAAAa,EAAA,EAAAb,CAAA,GACLO,EAAcD,IADT,wBAAAG,EAAAK,SAAAT,MAAF,gBAAAU,EAAAC,GAAA,OAAAjB,EAAAkB,MAAAC,KAAAC,YAAA,GAIfC,eAAgB,SAACC,GAqBf,OACCC,EAAAnB,EAAAoB,cAAA,OAAKC,MArBkB,CACvBC,OAAO,OACPC,OAAO,QACPC,gBAAgB,YAChBC,UAAU,SACVC,WAAW,WAiBVP,EAAAnB,EAAAoB,cAAA,OAAKC,MAfmB,CACzBM,WAAW,OACXC,QAAS,OACTC,aAAa,MACbC,QAAS,MACTC,WAAW,WAWTZ,EAAAnB,EAAAoB,cAAA,OAAKY,IAAKC,IAAMC,IAAI,KACpBf,EAAAnB,EAAAoB,cAAA,QAAMC,MATS,CACjBc,MAAM,QACNC,SAAU,SAOR,iBAMLC,aAAc,SAACnB,GACd,IAAMoB,EAAS,CACdC,WAAqC,IAAzBrB,EAAMsB,QAAQC,OAAe,SAAU,UACnDC,MAAM,OACNlB,gBAAiB,0BACjBW,MAAO,QACPV,UAAW,SACXkB,aAAc,MACdC,QAAS,OACTC,SAAU,QACVC,OAAQ,IACRC,KAAM,MACNC,OAAQ,OACRZ,SAAS,QAGV,OACCjB,EAAAnB,EAAAoB,cAAA,OAAK6B,UAAW/B,EAAM+B,UAAW5B,MAAOiB,GACtCzC,OAAAqD,EAAA,EAAArD,CAAIqB,EAAMsB,SAASW,IAAI,SAACC,EAAMC,GAAP,OAAiBlC,EAAAnB,EAAAoB,cAAA,OAAKkC,IAAKD,GAASD,OAK/DG,iBAAkB,SAACf,EAASS,GAC3B,OACK9B,EAAAnB,EAAAoB,cAAC1B,EAAM2C,aAAP,CACCY,UAAWA,EAEXT,QAASA,KAKhBgB,QAAS,mBAAAC,EAAAzC,UAAAyB,OAAIiB,EAAJ,IAAAC,MAAAF,GAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAAIF,EAAJE,GAAA5C,UAAA4C,GAAA,OAAaC,QAAQC,IAAIJ,IAElCK,QAAS,SAACC,GACR,IAAMC,EAAID,EAAU,IAAkB,IAAZA,EAAgB,IAAME,KAAKC,MAAM,IAAoB,KAAP,EAARH,EAAU,KAAS,KAC7EI,EAAIJ,EAAU,GAAK,IAAME,KAAKC,MAAgB,EAARH,EAAW,IAAK,KACtDK,EAAgBC,MAAMC,SAASN,EAAEO,aAAwC,EAAzBD,SAASN,EAAEO,YAC3DC,EAAgBH,MAAMC,SAASH,EAAEI,aAAwC,EAAzBD,SAASH,EAAEI,YAEjE,MAAO,OAASH,EAAaG,WAAa,IAAMC,EAAaD,WAAa,OAG5EE,UAAW,SAACV,GACV,MAAO,SAGTW,oBAAqB,SAACC,GACrB,OAAgB,MAAZA,GACc,IAAbA,EACI,YACgB,IAAbA,EACH,cAEA,OAGD,IAITC,oBAAqB,SAACC,GACrB,OAAOZ,KAAKC,MAAe,IAATW,GAAgB,KAGnCC,mBAAoB,SAACC,GACpB,IAAMC,EAAU,IAAIC,KAAKF,GACzB,OAAOC,EAAQE,qBAAuB,IAAMF,EAAQG,sBAGrDC,iBAAgB,eAAAC,EAAAzF,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAE,SAAAsF,EAAOC,EAAOvD,EAAMwD,GAApB,IAAAC,EAAAtC,EAAAuC,EAAAC,EAAAC,EAAA,OAAA9F,EAAAC,EAAAK,KAAA,SAAAyF,GAAA,cAAAA,EAAAvF,KAAAuF,EAAAtF,MAAA,cACXkF,EAAWF,EACXpC,EAAOqC,EAFIK,EAAAtF,KAAA,EAGYuF,UAAUC,cAAcC,MAHpC,UAGXN,EAHWG,EAAAI,KAIjBrC,QAAQC,IAAI,oBAAqB6B,GAgB3BC,EApBW,eAAAO,EAAAtG,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAoBiB,SAAAmG,EAAOC,GAAP,OAAAtG,EAAAC,EAAAK,KAAA,SAAAiG,GAAA,cAAAA,EAAA/F,KAAA+F,EAAA9F,MAAA,cAAA8F,EAAA/F,KAAA,EAK/B8F,EAAahB,iBAAiBK,EAAU,CACvCD,KAAMrC,EACNmD,KAAMtE,EAENuE,IAAKhB,EACLiB,KAAM,CACLC,cAAexB,KAAKyB,MACpBC,WAAY,KAZiBN,EAAA7F,OAAA,UAqBxB,GArBwB,cAAA6F,EAAA/F,KAAA,EAAA+F,EAAAO,GAAAP,EAAA,SAwB/BzC,QAAQC,IAAR,yCAAAgD,OAAAR,EAAAO,KAxB+BP,EAAA7F,OAAA,UAyBxB,GAzBwB,wBAAA6F,EAAA3F,SAAAyF,EAAA,iBApBjB,gBAAAW,GAAA,OAAAZ,EAAArF,MAAAC,KAAAC,YAAA,GAwDX6E,EAxDW,eAAAmB,EAAAnH,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAwDE,SAAAgH,IAAA,OAAAlH,EAAAC,EAAAK,KAAA,SAAA6G,GAAA,cAAAA,EAAA3G,KAAA2G,EAAA1G,MAAA,eACI2G,IAAnBxB,EADe,CAAAuB,EAAA1G,KAAA,eAAA0G,EAAA1G,KAAA,EAEJoF,EAA0BD,GAFtB,cAAAuB,EAAAzG,OAAA,SAAAyG,EAAAhB,MAAA,cAAAgB,EAAAzG,OAAA,UAKV,GALU,wBAAAyG,EAAAvG,SAAAsG,MAxDF,yBAAAD,EAAAlG,MAAAC,KAAAC,YAAA,IAoEboG,OAAOC,cAA4C,YAA5BA,aAAaC,WApEvB,CAAAxB,EAAAtF,KAAA,gBAAAsF,EAAAtF,KAAA,GAqEHqF,IArEG,eAAAC,EAAArF,OAAA,SAAAqF,EAAAI,MAAA,QAsENkB,OAAOC,cAA4C,WAA5BA,aAAaC,WAC9CD,aAAaE,iBAAb,eAAAC,EAAA3H,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAA8B,SAAAwH,EAAOC,GAAP,OAAA3H,EAAAC,EAAAK,KAAA,SAAAsH,GAAA,cAAAA,EAAApH,KAAAoH,EAAAnH,MAAA,UACd,YAAXkH,EADyB,CAAAC,EAAAnH,KAAA,eAAAmH,EAAAnH,KAAA,EAEfqF,IAFe,cAAA8B,EAAAlH,OAAA,SAAAkH,EAAAzB,MAAA,OAI5BrC,QAAQC,IAAI,8BAJgB,wBAAA6D,EAAAhH,SAAA8G,MAA9B,gBAAAG,GAAA,OAAAJ,EAAA1G,MAAAC,KAAAC,YAAA,IAQA6C,QAAQC,IAAI,8BA/EI,yBAAAgC,EAAAnF,SAAA4E,MAAF,gBAAAsC,EAAAC,EAAAC,GAAA,OAAAzC,EAAAxE,MAAAC,KAAAC,YAAA,GAmFhBgH,aAAY,eAAAC,EAAApI,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAE,SAAAiI,IAAA,OAAAnI,EAAAC,EAAAK,KAAA,SAAA8H,GAAA,cAAAA,EAAA5H,KAAA4H,EAAA3H,MAAA,cAAA2H,EAAA1H,OAAA,SACJ2H,IAAIC,KAAK,0BAA2B,EAAG,SAAAC,GAC5C,OAAQA,EAAUC,YAChB,KAAK,EACHD,EAAUE,kBAAkB,sBAAuB,CAACC,QAAS,KAAMC,eAAc,IACjF,MACF,QACEJ,EAAUE,kBAAkB,sBAAuB,CAACC,QAAS,KAAMC,eAAc,QAP5E,wBAAAP,EAAAxH,SAAAuH,MAAF,yBAAAD,EAAAnH,MAAAC,KAAAC,YAAA,GAYX2H,kBAAiB,eAAAC,EAAA/I,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAE,SAAA4I,EAAOC,EAAWC,GAAlB,OAAAhJ,EAAAC,EAAAK,KAAA,SAAA2I,GAAA,cAAAA,EAAAzI,KAAAyI,EAAAxI,MAAA,OACnBuI,EAAME,KAAKC,MAAMD,KAAKE,UAAUJ,IAChClF,QAAQC,IAAI,2CAA4CiF,GACtDD,EACKM,KAAK,SAAAC,GACJ,IAAMC,EAAKD,EAAGE,YAAY,sBAAuB,aAGjD,OAFAD,EAAGE,YAAY,uBAAuBC,QAC3CH,EAAGE,YAAY,uBAAuBE,IAAtC7J,OAAAa,EAAA,EAAAb,CAAA,GAA8CkJ,IAClCO,EAAGK,WAEXC,MAAM,SAAAC,GAEL,OADAhG,QAAQC,IAAR,UAAAgD,OAAsB+C,KACf,IAZI,wBAAAb,EAAArI,SAAAkI,MAAF,gBAAAiB,EAAAC,GAAA,OAAAnB,EAAA9H,MAAAC,KAAAC,YAAA,GAgBjBgJ,gBAAe,eAAAC,EAAApK,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAE,SAAAiK,EAAOpB,GAAP,IAAAqB,EAAA,OAAApK,EAAAC,EAAAK,KAAA,SAAA+J,GAAA,cAAAA,EAAA7J,KAAA6J,EAAA5J,MAAA,cACX2J,EAAY,IAAIE,IADLD,EAAA3J,OAAA,SAERqI,EACJM,KAAK,SAAAC,GACL,OAAOA,EAAGE,YAAY,uBAAuBC,YAAY,uBAAuBc,WAEhFlB,KAAK,SAAAmB,GAEL,OADA1K,OAAAqD,EAAA,EAAArD,CAAI0K,GAASpH,IAAI,SAAAqH,GAAC,OAAIL,EAAUM,IAAV5K,OAAAa,EAAA,EAAAb,CAAA,GAAmB2K,MAClCL,IAEPP,MAAM,SAAAC,GAEN,OADAhG,QAAQC,IAAR,UAAAgD,OAAsB+C,IACfM,KAZK,wBAAAC,EAAAzJ,SAAAuJ,MAAF,gBAAAQ,GAAA,OAAAT,EAAAnJ,MAAAC,KAAAC,YAAA,IAiBFtB,wBChPfiL,EAAAC,QAAA,gpECYMC,EAAcC,QACW,cAA7B1D,OAAO2D,SAASC,UAEe,UAA7B5D,OAAO2D,SAASC,UAEhB5D,OAAO2D,SAASC,SAASC,MACvB,2DAsCN,SAASC,EAAgBC,EAAOC,GAC9BrF,UAAUC,cACPqF,SAASF,GACT/B,KAAK,SAAA/C,GACJA,EAAaiF,cAAgB,WAC3B,IAAMC,EAAmBlF,EAAamF,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACA,cAA3BF,EAAiBG,QACf3F,UAAUC,cAAc2F,YAI1B9H,QAAQC,IACN,gHAKEsH,GAAUA,EAAOQ,UACnBR,EAAOQ,SAASvF,KAIlBe,OAAOyE,iBAAiB,UAAW,SAASC,GAC1C,IAAIC,EAAY,IAAIC,QAAQ,cAC5BF,EAAMG,UACJC,MAAMH,GAAW3C,KAAK,SAAS+C,GAC7B,OAAOC,OAAO/D,KAAK,sBAAsBe,KAAK,SAASiD,GAErD,OADAxI,QAAQC,IAAI,iDAAkDqI,EAASG,KAChED,EAAM3C,IAAIqC,EAAWI,UAMpC/E,OAAOyE,iBAAiB,QAAS,SAASC,GACxC,IAA2BS,EAS3BT,EAAMG,WATqBM,EASCT,EAAMS,QARzBH,OAAO/D,KAAK,sBAAsBe,KAAK,SAAUiD,GACtD,OAAOH,MAAMK,GAASnD,KAAK,SAAU+C,GAEnC,OADAtI,QAAQC,IAAI,oCAAoCqI,EAASG,KAClDD,EAAM3C,IAAI6C,EAASJ,SAOhCL,EAAMU,YACJN,MAAMJ,EAAMS,SAAS3C,MAAM,SAAS6C,GAMlC,OALA5I,QAAQC,IAAK,qEAAuE2I,GAK7EL,OAAO/D,KAAK,sBAAsBe,KAAK,SAAUiD,GACtD,OAAOA,EAAMpB,MAAMa,EAAMS,SAASnD,KAAK,SAAUsD,GAE/C,OADeA,GAAgC,MAApBA,EAAShF,OAA2CgF,EAA5BC,QAAQC,OAAO,qBAW5E/I,QAAQC,IAAI,sCAGRsH,GAAUA,EAAOyB,WACnBzB,EAAOyB,UAAUxG,UAO5BuD,MAAM,SAAA6C,GACL5I,QAAQ4I,MAAM,4CAA6CA,uhBCxIjEK,YAAYC,wBCFCC,EAAb,WAIC,SAAAA,IAAenN,OAAAoN,EAAA,EAAApN,CAAAkB,KAAAiM,GAAAjM,KAFf2K,MAAQ,GAGP3K,KAAK2K,MAAQ,CACZwB,aAAc,EACdC,aAAc,KACdC,gBAAiBlI,KAAKyB,MACtB0G,mBAAoB,IACpBC,oBAAoB,EACpBC,kBAAkB,EAClBC,cAAe,CACdC,SAAU,KACVC,SAAS,IAdb,OAAA7N,OAAA8N,EAAA,EAAA9N,CAAAmN,EAAA,EAAA1J,IAAA,eAAAsK,MAAA,eAAAC,EAAAhO,OAAAiO,EAAA,EAAAjO,CAAAkO,EAAA/N,EAAAC,KAAA,SAAAC,EAmBoB8N,GAnBpB,OAAAD,EAAA/N,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAoBEO,KAAK2K,MAAL7L,OAAAoO,EAAA,EAAApO,CAAA,GAAkBmO,GApBpB,wBAAA1N,EAAAK,SAAAT,EAAAa,SAAA,gBAAAH,GAAA,OAAAiN,EAAA/M,MAAAC,KAAAC,YAAA,MAAAgM,EAAA,WCQekB,EAPb,SAAAA,EAAYC,GAAStO,OAAAoN,EAAA,EAAApN,CAAAkB,KAAAmN,GACjB,IAAME,EAAOD,EAAO3J,WACd6J,EAAO,IAAIC,KAAK,CAAC,IAAIF,EAAK,QAChC,OAAO,IAAIG,OAAOC,IAAIC,gBAAgBJ,KCH7BK,EAAA,WAEd,IAAIC,EAAeC,EAEnB,GAAG,oBAAsBC,cAAe,CACvCC,UAAY,SAAUC,GACrB,IAAItI,EAAOsI,EAAEtI,KAEb,OADA5C,QAAQC,IAAI,kCAAmC2C,GACvCA,EAAKuI,KACZ,IAAK,QACJC,EAAgBxI,GAChByI,EAAkB,CAACF,IAAO,MAAOvI,KAAQ,mBAAqBA,EAAK0I,MACnE,MACD,IAAK,OACJC,EAAe3I,GACf,MACD,IAAK,iBACJmI,EAAYnI,EAAK0I,IACjB,MACD,QACCD,EAAkB,CAACF,IAAO,MAAOvI,KAAQ,oBAAsBA,EAAK0I,QAIvE,IAAMF,EAAkB,SAASxI,GAChCkI,EAAgBU,YAAY,YACQ,IAA/BT,EAAUrB,kBACVqB,EAAUzB,eAAiByB,EAAUtB,oBACd,IAAvBsB,EAAU1B,eAAsB0B,EAAUvB,oBAC7C+B,EAAe,CACfJ,IAAO,OACPG,IAAO,2BAGRD,EAAkB,CAACF,IAAO,cAAevI,KAAQvB,KAAKyB,SACpD,MAGEyI,EAAiB,SAAS3I,GAC/B6I,cAAcX,GACd5N,KAAKwO,QACLL,EAAkB,CAACF,IAAO,OAAQvI,KAAQ,mBAAqBA,EAAK0I,OAG/DD,EAAoB,SAASnG,GAClChI,KAAKyO,YAAYzG,MCrCd0G,EAAYC,IAAMC,KAAK,kBAAMhD,QAAAiD,IAAA,CAAAC,EAAAd,EAAA,GAAAc,EAAAd,EAAA,KAAA3F,KAAAyG,EAAAC,KAAA,YA+BnCC,IAASC,OAAOC,EAAAjQ,EAAAoB,cA7BJ,WAIX,IAAMwN,EAAY,IAAI5B,EAgBtB,OAdCnN,OAAAiO,EAAA,EAAAjO,CAAAkO,EAAA/N,EAAAC,KAAC,SAAAC,IAAA,IAAAgQ,EAAA,OAAAnC,EAAA/N,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACgB,oBAAN2P,GACJD,EAAY,IAAIhC,EAAUQ,GAChCE,EAAUwB,aACTxB,EAAUlD,MAAV7L,OAAAoO,EAAA,EAAApO,CAAA,GACI+O,EAAUlD,MADd,CAEC8B,cAAe,CAAEC,SAAUyC,EAAWxC,SAAS,MAEjD7J,QAAQC,IAAI,6BAGZD,QAAQC,IAAI,gCAXZ,wBAAAxD,EAAAK,SAAAT,KAADL,GAeAoQ,EAAAjQ,EAAAoB,cAACiP,EAAA,EAAD,KACGJ,EAAAjQ,EAAAoB,cAAC6O,EAAAjQ,EAAMsQ,SAAP,CAAgBC,SAAU7Q,IAAMuB,kBACjCgP,EAAAjQ,EAAAoB,cAACqO,EAAD,CAAWe,SAlBC,mBAkBmBC,MAAO7B,OAM1B,MAAS8B,SAASC,eAAe,SLlB1C,SAAkBvF,GACvB,GAAI,kBAAmBrF,UAAoD,CAGzE,GADkB,IAAIyI,IAAIoC,0BAAwBxJ,OAAO2D,SAAS8F,MACpDC,SAAW1J,OAAO2D,SAAS+F,OAIvC,OAGF1J,OAAOyE,iBAAiB,OAAQ,WAC9B,IAAMV,EAAK,GAAArE,OAAM8J,0BAAN,sBAEP/F,GA0GV,SAAiCM,EAAOC,GAEtCc,MAAMf,GACH/B,KAAK,SAAA+C,GAEJ,IAAM4E,EAAc5E,EAAS6E,QAAQC,IAAI,gBAEnB,MAApB9E,EAASzE,QACO,MAAfqJ,IAA8D,IAAvCA,EAAYG,QAAQ,cAG5CnL,UAAUC,cAAcC,MAAMmD,KAAK,SAAA/C,GACjCA,EAAa8K,aAAa/H,KAAK,WAC7BhC,OAAO2D,SAASqG,aAKpBlG,EAAgBC,EAAOC,KAG1BxB,MAAM,WACL/F,QAAQC,IACN,mEA/HAuN,CAAwBlG,EAAOC,GAI/BrF,UAAUC,cAAcC,MAAMmD,KAAK,WACjCvF,QAAQC,IACN,+GAMJoH,EAAgBC,EAAOC,MKL/BpF","file":"static/js/main.2ad4d191.chunk.js","sourcesContent":["import React from \"react\";\r\nimport idb from \"idb\";\r\nimport logo from \"../assets/ic_launcher.png\";\r\n\r\nlet Utils = {\r\n\t\r\n\tsetBatteryState: async (batteryOptions, userState) => {\r\n\t\treturn {...userState,\t...batteryOptions,}\r\n  },\r\n\r\n\tloadingMessage: (props) => {\r\n\t\t\tconst loadingDivStyle = {\r\n\t\t\t\tmargin:'auto',\r\n\t\t\t\theight:'100vh',\r\n\t\t\t\tbackgroundColor:'lightgrey',\r\n\t\t\t\ttextAlign:'center',\r\n\t\t\t\talignItems:'center',\r\n\t\t\t}\r\n\t\t\tconst containerDivStyle = {\r\n\t\t\t\tpaddingTop:'90px',\r\n\t\t\t\tdisplay: 'grid',\r\n\t\t\t\tgridAutoFlow:'row',\r\n\t\t\t\tgridGap: '5px',\r\n\t\t\t\tplaceItems:'center'\r\n\t\t\t}\r\n\t\t\r\n\t\t\tconst spanStyle = {\r\n\t\t\t\tcolor:'black',\r\n\t\t\t\tfontSize: '25px'\r\n\t\t\t}\r\n\t\t\r\n\t\t\treturn (\r\n\t\t\t\t<div style={loadingDivStyle}>\r\n\t\t\t\t\t<div style={containerDivStyle}>\r\n\t\t\t\t\t\t<img src={logo} alt=\"\" />  \r\n\t\t\t\t\t\t<span style={spanStyle}>loading...</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\t\t\r\n\t},\r\n\r\n\ttoastMessage: (props) => {\r\n\t\tconst styles = {\r\n\t\t\tvisibility:(props.message.length === 0 ? 'hidden': 'visible'),\r\n\t\t\twidth:'45vw',\r\n\t\t\tbackgroundColor: 'rgba(255, 255, 153, .8)', /* background color */\r\n\t\t\tcolor: 'black', /* text color */\r\n\t\t\ttextAlign: 'center', /* Centered text */\r\n\t\t\tborderRadius: '5px', /* Rounded borders */\r\n\t\t\tpadding: '12px', /* Padding */\r\n\t\t\tposition: 'fixed', /* Sit on top of the screen */\r\n\t\t\tzIndex: '1', /* Add a z-index if needed */\r\n\t\t\tleft: '25%', /* Center the snackbar */\r\n\t\t\tbottom: '30px', /* 30px from the bottom */\r\n\t\t\tfontSize:'.8em'\r\n\t\t\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div className={props.className} style={styles} >\r\n\t\t\t\t{[...props.message].map((text, index) => <div key={index} >{text}</div>)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t},\r\n\r\n\tshowToastMessage: (message, className) => {\r\n\t\treturn\t(\r\n\t\t\t\t\t\t\t<Utils.toastMessage \r\n\t\t\t\t\t\t\t\tclassName={className}\r\n\t\t\t\t\t\t\t\t// {message === '' ? \"animated fadeOutDownBig\" : \"animated fadeInUpBig delay-2s\"} \r\n\t\t\t\t\t\t\t\tmessage={message}>\r\n\t\t\t\t\t\t\t</Utils.toastMessage>\r\n\t\t\t\t\t\t)\r\n\t},\r\n\t\r\n\tlogText: (...rest) => console.log(rest),\r\n\r\n\tbgColor: (percent) => {\r\n\t\t\tconst r = percent < 50 || percent === 0 ? 255 : Math.floor(255-(percent*2-100)*255/100);\r\n\t\t\tconst g = percent > 50 ? 255 : Math.floor(((percent*2)*255)/100);\r\n\t\t\tconst parsedRColor = !isNaN(parseInt(r.toString())) ? parseInt(r.toString()) : 0;\r\n\t\t\tconst parsedGColor = !isNaN(parseInt(g.toString())) ? parseInt(g.toString()) : 0;\r\n\t\t\t//console.log('bgColor for '+ percent.toString() +' : rgb(' + parsedRColor.toString() + ',' + parsedGColor.toString() + ',0)');\r\n\t\t\treturn 'rgb(' + parsedRColor.toString() + ',' + parsedGColor.toString() + ',0)';\r\n\t},\r\n\r\n\tfontColor: (percent) => {\r\n\t\t\treturn 'black';//(percent >= 45 && percent <= 60) ? 'black' : 'white';\r\n\t},\r\n\r\n\tgetBatteryStateText: (batState) => {\r\n\t\tif (batState != null) {\r\n\t\t\tif (batState === true) {\r\n\t\t\t\treturn 'Charging';\r\n\t\t\t} else if (batState === false) {\r\n\t\t\t\treturn 'Discharging';\r\n\t\t\t} else {\r\n\t\t\t\treturn 'Full';\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn '';\r\n\t\t}\r\n\t},\r\n\r\n\tgetBatteryLevelText: (batLvl) => {\r\n\t\treturn Math.floor(batLvl * 100) + '%';\r\n\t},\r\n\r\n\tgetBatteryTimeText: (timeTxt) => {\r\n\t\tconst dateVal = new Date(timeTxt)\r\n\t\treturn dateVal.toLocaleDateString() + ' ' + dateVal.toLocaleTimeString();\r\n\t},\r\n\r\n\tshowNotification: async (title, logo, body) => {\r\n\t\tconst appTitle = title;\r\n\t\tconst text = body;\r\n\t\tconst swRegistration = await navigator.serviceWorker.ready;//.getRegistration(new URL(process.env.PUBLIC_URL, window.location.href));\r\n\t\tconsole.log('swRegistration : ', swRegistration);\r\n\t\r\n\t\t// const notifyWithNoSW = async () => {\r\n\t\t// \ttry {\r\n\t\t// \t\tnew Notification(appTitle+':NoSW', {\r\n\t\t// \t\t\tbody: text,\r\n\t\t// \t\t\ticon: logo,\r\n\t\t// \t\t\ttag: 'soManyNotification'\r\n\t\t// \t\t});\t\t\t\t\t\r\n\t\t// \t} catch (err) {\r\n\t\t// \t\tconsole.log(`Error for new Notification : ${err}`);\r\n\t\t// \t\treturn false;\r\n\t\t// \t}\r\n\t\t// \treturn true;\r\n\t\t// }\r\n\r\n\t\tconst notifywithSWReadyRegister = async (registration) => {\r\n\t\t\t//navigator.serviceWorker.getRegistration(new URL(process.env.PUBLIC_URL, window.location.href))\r\n\t\t\t// navigator.serviceWorker.ready\r\n\t\t\t// .then(async (registration) => {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tregistration.showNotification(appTitle, {\r\n\t\t\t\t\t\tbody: text,\r\n\t\t\t\t\t\ticon: logo,\r\n\t\t\t\t\t\t//vibrate: [200, 100, 200, 100, 200, 100, 200],\r\n\t\t\t\t\t\ttag: title,\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tdateOfArrival: Date.now(),\r\n\t\t\t\t\t\t\tprimaryKey: 1\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t// actions: [\r\n\t\t\t\t\t\t// \t{action: 'explore', title: 'Explore this new world',\r\n\t\t\t\t\t\t// \t\ticon: 'images/checkmark.png'},\r\n\t\t\t\t\t\t// \t{action: 'close', title: 'Close notification',\r\n\t\t\t\t\t\t// \t\ticon: 'images/xmark.png'},\r\n\t\t\t\t\t\t// ]\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t\tcatch(err) {\r\n\t\t\t\t\tconsole.log(`Error for notifywithSWReadyRegister : ${err}`);\r\n\t\t\t\t\treturn false;//await notifyWithNoSW();\r\n\t\t\t\t}\r\n\r\n\t\t// \t\t})\r\n\t\t// \t\t.catch(async err => {\r\n\t\t// \t\t\tconsole.log(`Error for notifywithSWReadyRegister : ${err}`);\r\n\t\t// \t\t\treturn await notifyWithNoSW();\r\n\t\t// \t\t});\r\n\t\t// \t\treturn true;\r\n\t\t};\t\r\n\r\n\t\tconst callNotify = async () => {\r\n\t\t\tif(swRegistration !== undefined) {\r\n\t\t\t\treturn await notifywithSWReadyRegister(swRegistration);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t// else {\r\n\t\t\t// \treturn await notifyWithNoSW(); \r\n\t\t\t// }\t\t\t\r\n\t\t}\r\n\r\n\t\tif (window.Notification && Notification.permission === \"granted\") {\r\n\t\t\treturn await callNotify();\r\n\t\t} else if (window.Notification && Notification.permission !== \"denied\") {\r\n\t\t\tNotification.requestermission(async (status) => {\r\n\t\t\t\tif (status === \"granted\") {\r\n\t\t\t\t\treturn await callNotify();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log(\"permission not granted - 2\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tconsole.log(\"permission not granted - 1\");\r\n\t\t}\r\n\t},\r\n\r\n\tgetDbContext: async () => {\r\n    return idb.open('BatteryNotifierDatabase', 1, upgradeDB => {\r\n      switch (upgradeDB.oldVersion) {\r\n        case 1:\r\n          upgradeDB.createObjectStore('BatteryNotifierList', {keyPath: 'id', autoIncrement:true});\r\n          break;\r\n        default:\r\n          upgradeDB.createObjectStore('BatteryNotifierList', {keyPath: 'id', autoIncrement:true});  \r\n      }\r\n    });\r\n  },\r\n\r\n  storeItemsLocally: async (dbcontext, obj) => {\r\n\t\tobj = JSON.parse(JSON.stringify(obj))\r\n\t\tconsole.log('data is being peristed to indexedDB as: ', obj)\r\n    dbcontext\r\n        .then(db => {\r\n          const tx = db.transaction('BatteryNotifierList', 'readwrite');\r\n          tx.objectStore('BatteryNotifierList').clear();\r\n\t\t\t\t\ttx.objectStore('BatteryNotifierList').put({...obj})\r\n          return tx.complete;\r\n        })\r\n        .catch(err => {\r\n          console.log(`Error: ${err}`)\r\n          return false;\r\n        });\r\n  },\r\n\r\n  getItemsLocally: async (dbcontext) => {\r\n    let listItems = new Set();\r\n    return dbcontext\r\n\t\t\t\t\t\t.then(db => {\r\n\t\t\t\t\t\t\treturn db.transaction('BatteryNotifierList').objectStore('BatteryNotifierList').getAll();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then(allObjs => {\r\n\t\t\t\t\t\t\t[...allObjs].map(s => listItems.add({ ...s }));\r\n\t\t\t\t\t\t\treturn listItems;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\t\tconsole.log(`Error: ${err}`)\r\n\t\t\t\t\t\t\treturn listItems;\r\n\t\t\t\t\t\t});\r\n\t},\r\n}\r\n\r\nexport default Utils;\r\n","module.exports = \"data:image/png;base64,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\"","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if ('serviceWorker' in navigator && process.env.NODE_ENV === 'production') {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {              \r\n              //Install stage sets up the index page (home page) in the cache and opens a new cache\r\n              window.addEventListener('install', function(event) {\r\n                var indexPage = new Request('index.html');\r\n                event.waitUntil(\r\n                  fetch(indexPage).then(function(response) {\r\n                    return caches.open('pwabuilder-offline').then(function(cache) {\r\n                      console.log('[PWA Builder] Cached index page during Install'+ response.url);\r\n                      return cache.put(indexPage, response);\r\n                    });\r\n                }));\r\n              });\r\n\r\n              //If any fetch fails, it will look for the request in the cache and serve it from there first\r\n              window.addEventListener('fetch', function(event) {\r\n                var updateCache = function(request){\r\n                  return caches.open('pwabuilder-offline').then(function (cache) {\r\n                    return fetch(request).then(function (response) {\r\n                      console.log('[PWA Builder] add page to offline'+response.url)\r\n                      return cache.put(request, response);\r\n                    });\r\n                  });\r\n                };\r\n\r\n                event.waitUntil(updateCache(event.request));\r\n\r\n                event.respondWith(\r\n                  fetch(event.request).catch(function(error) {\r\n                    console.log( '[PWA Builder] Network request Failed. Serving content from cache: ' + error );\r\n\r\n                    //Check to see if you have it in the cache\r\n                    //Return response\r\n                    //If not in the cache, then return error page\r\n                    return caches.open('pwabuilder-offline').then(function (cache) {\r\n                      return cache.match(event.request).then(function (matching) {\r\n                        var report =  !matching || matching.status === 404?Promise.reject('no-match'): matching;\r\n                        return report\r\n                      });\r\n                    });\r\n                  })\r\n                );\r\n              })\r\n\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import { injectGlobal } from \"styled-components\";\r\n\r\ninjectGlobal`\r\n@import url('https://fonts.googleapis.com/css?family=Noto+Sans');\r\n  body {\r\n    margin: 0;\r\n    padding: 0;\r\n    font-family: \"Noto Sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\",\r\n      \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\",\r\n      sans-serif;\r\n    -webkit-font-smoothing: antialiased;\r\n    -moz-osx-font-smoothing: grayscale;\r\n  }\r\n  \r\n  .rootDiv {\r\n    text-align:center;\r\n  }\r\n`;\r\n","export class UserModel {\r\n\r\n\tstate = {};\r\n\r\n\tconstructor() {\r\n\t\tthis.state = {\r\n\t\t\tbatteryLevel: 0,\r\n\t\t\tbatteryState: null,\r\n\t\t\tcurrBatteryTime: Date.now(),\r\n\t\t\tnotifyBatteryLevel: 100,\r\n\t\t\tnotifyBatteryState: true,\r\n\t\t\tnotificationSent: false,\r\n\t\t\tworkerProcess: {\r\n\t\t\t\tinstance: null,\r\n\t\t\t\tstarted: false\r\n\t\t\t},\r\n\t\t};\r\n\t}\r\n\r\n\tasync setUserState(objState) {\r\n\t\tthis.state = { ...objState\t}\r\n\t}\r\n}","class WebWorker {\r\n  constructor(worker) {\r\n      const code = worker.toString();\r\n      const blob = new Blob(['('+code+')()']);\r\n      return new Worker(URL.createObjectURL(blob));\r\n  }\r\n}\r\n\r\nexport default WebWorker;","// // eslint-disable-next-line import/no-webpack-loader-syntax\r\nexport default () => {\r\n\t\r\n\tlet timerInterval, userModel //, utils;// = Utils;\r\n\r\n\tif('function' === typeof importScripts) {\r\n\t\tonmessage = function (e) {\r\n\t\t\tlet data = e.data;\r\n\t\t\tconsole.log('Msg data passed to worker as : ', data)\r\n\t\t\tswitch (data.cmd) {\r\n\t\t\t\tcase 'start':\r\n\t\t\t\t\tstartMonitoring(data);\r\n\t\t\t\t\tpostWorkerMessage({'cmd': 'log', 'data': 'WORKER STARTED: ' + data.msg});\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'stop':\r\n\t\t\t\t\tstopMonitoring(data);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'usermodelstate':\r\n\t\t\t\t\tuserModel = data.msg;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tpostWorkerMessage({'cmd': 'log', 'data': 'Unknown command: ' + data.msg});\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tconst startMonitoring = function(data) {\r\n\t\t\ttimerInterval = setInterval(() => {\r\n\t\t\t\tif (userModel.notificationSent === false \r\n\t\t\t\t\t&& userModel.batteryState === userModel.notifyBatteryState \r\n\t\t\t\t\t&& userModel.batteryLevel*100 ===  userModel.notifyBatteryLevel) {\r\n\t\t\t\t\tstopMonitoring({\r\n\t\t\t\t\t'cmd': 'stop',\r\n\t\t\t\t\t'msg': 'from Background worker'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tpostWorkerMessage({'cmd': 'intervallog', 'data': Date.now()})\r\n\t\t\t}, 1000);\r\n\t\t}\r\n\r\n\t\tconst stopMonitoring = function(data) {\r\n\t\t\tclearInterval(timerInterval);\r\n\t\t\tthis.close(); // Terminates the worker.\r\n\t\t\tpostWorkerMessage({'cmd': 'stop', 'data': 'WORKER STOPPED: ' + data.msg});\r\n\t\t}\r\n\r\n\t\tconst postWorkerMessage = function(obj) { \r\n\t\t\tthis.postMessage(obj); \r\n\t\t}\r\n\t\r\n\t}\r\n\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport * as serviceWorker from './serviceWorker';\r\nimport \"./global-styles\";\r\nimport { UserModel } from \"./Components/UserModel\";\r\nimport Utils from \"./Components/Utils\";\r\nimport WebWorker from \"./Components/WebWorker\";\r\nimport backgroundProcess from \"./Components/backgroundProcess\";\r\nconst Container = React.lazy(() => import('./Components/Container'));\r\n\r\nconst App = () => {\r\n\t// console.log('public url 1 - process.env.PUBLIC_URL : ', process.env.PUBLIC_URL)\r\n\t// console.log('public url 2 - window.location.href :  ', window.location.href)\r\n\t// console.log('total public url : ', new URL(process.env.PUBLIC_URL, window.location.href))\r\n\tconst userModel = new UserModel();\r\n\tlet appTitle = 'Battery Notifier';\r\n  (async () => {\r\n\t\tif (typeof(w) == \"undefined\") {\r\n\t\t\tconst bgProcess = new WebWorker(backgroundProcess);\r\n\t\t\tuserModel.setUserState(\r\n\t\t\t\tuserModel.state = {\r\n\t\t\t\t\t...userModel.state,\r\n\t\t\t\t\tworkerProcess: { instance: bgProcess, started: false },\r\n\t\t\t});\r\n\t\t\tconsole.log('Webworker is supported!!');\r\n\t\t}\r\n\t\telse {\r\n\t\t\tconsole.log('Webworker is not supported!!');\r\n\t\t}\r\n\t})();\r\n\treturn (\r\n\t\t<Router >\r\n   \t\t<React.Suspense fallback={Utils.loadingMessage()} >\r\n\t\t\t\t<Container AppTitle={appTitle} Model={userModel} />\r\n\t\t\t</React.Suspense>\r\n\t\t</Router>\r\n\t);\r\n}\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n"],"sourceRoot":""}