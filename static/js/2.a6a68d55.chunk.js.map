{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/inherits.js","Components/Home.js"],"names":["_getPrototypeOf","o","Object","setPrototypeOf","getPrototypeOf","__proto__","__webpack_require__","d","__webpack_exports__","_typeof2","obj","Symbol","iterator","constructor","prototype","_typeof","_possibleConstructorReturn","self","call","ReferenceError","_assertThisInitialized","_setPrototypeOf","p","_inherits","subClass","superClass","TypeError","create","value","writable","configurable","Home","props","_this","C_Users_Nilesh_OneDrive_Documents_VSCodeProjects_reactjsbatterynotifier_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__","this","C_Users_Nilesh_OneDrive_Documents_VSCodeProjects_reactjsbatterynotifier_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7__","C_Users_Nilesh_OneDrive_Documents_VSCodeProjects_reactjsbatterynotifier_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8__","timerInterval","userModel","userState","workerProcess","setBatteryState","_ref","C_Users_Nilesh_OneDrive_Documents_VSCodeProjects_reactjsbatterynotifier_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__","C_Users_Nilesh_OneDrive_Documents_VSCodeProjects_reactjsbatterynotifier_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default","a","mark","_callee","batteryOptions","wrap","_context","prev","next","t0","t1","Utils","t2","sent","t3","setUserState","t4","setState","stop","_x","apply","arguments","getBatteryAPI","_callee2","_context2","navigator","getBattery","then","battery","batteryLevel","level","batteryState","charging","currBatteryTime","Date","now","abrupt","registerNotificationwithAccess","_callee3","_context3","console","serviceWorker","getRegistration","log","getRegistrations","URL","process","window","location","href","displayToastMessage","toastMessage","react__WEBPACK_IMPORTED_MODULE_10___default","createElement","getBatteryTimeText","Notification","permission","requestPermission","status","callNotification","_callee4","notificationBody","_context4","getBatteryStateText","notifyBatteryState","notifyBatteryLevel","toString","showNotification","AppTitle","logo","_ref5","_callee8","message","hideAfter","setStateMessage","callSetStateWithTimeOut","_context8","_ref6","_callee5","msg","_context5","C_Users_Nilesh_OneDrive_Documents_VSCodeProjects_reactjsbatterynotifier_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__","state","_x4","_ref7","_callee7","timeOutValue","_context7","setTimeout","_callee6","_context6","_x5","_x6","toastClassName","undefined","_x2","_x3","getChangesLocally","_callee9","localValues","_context9","getItemsLocally","getDbContext","C_Users_Nilesh_OneDrive_Documents_VSCodeProjects_reactjsbatterynotifier_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__","forEach","s","Model","getOwnPropertyNames","ev","instance","started","data","_this2","target","setInterval","_callee11","_context11","notificationSent","clearInterval","Wrapper","className","style","backgroundColor","bgColor","color","fontColor","ref","getBatteryLevelText","showToastMessage","React","Component","styled","div","_templateObject"],"mappings":"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","file":"static/js/2.a6a68d55.chunk.js","sourcesContent":["export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nexport default function _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import React from 'react';\nimport styled from \"styled-components\";\nimport logo from \"../assets/ic_launcher.png\";\nimport Utils from './Utils';\n\nclass Home extends React.Component {\n\n  timerInterval = 0;\n  userModel = null;\n  userState = null;\n  workerProcess = null;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      userState : this.props.Model.state,\n      toastMessage: '',\n      toastClassName: ''\n    }\n    this.userModel = this.props.Model;\n    console.log('Home - ' + Object.getOwnPropertyNames(this.props.Model));\n    this.userState = this.props.Model.state;\n    console.log('User state - ' + this.userState);\n  }\n\n  async onWorkerMessage(ev) {\n    this.setBatteryState({workerProcess: { instance: this.workerProcess, started: false }})\n    this.callNotification();\n    console.log(Utils.getBatteryTimeText(Date.now()) + ' : ' + ev.data);\n  }\n\n  setBatteryState = async (batteryOptions) => {\n    this.setState({\n      userState: this.userModel.setUserState(\n        this.userState = await Utils.setBatteryState(batteryOptions, this.userState)\n      )\n    },);\n  }\n\n  getBatteryAPI = async () => await navigator.getBattery().then(battery => this.setBatteryState({ batteryLevel: battery.level, batteryState: battery.charging, currBatteryTime: Date.now(), }));\n\n  registerNotificationwithAccess = async () => {\n    console.log('SW registration : ', await navigator.serviceWorker.getRegistration())\n    console.log('SW registrations : ', await navigator.serviceWorker.getRegistrations())\n    console.log('Notification access called')\n    if((await navigator.serviceWorker.getRegistration(new URL(process.env.PUBLIC_URL, window.location.href))) === null){\n      await this.displayToastMessage({toastMessage : [<span>Local Notification capability currently not available on this platform - { Utils.getBatteryTimeText(this.userState.currBatteryTime) } </span>] }, 10000);\n      console.log('Notification API currently not available')\n    }\n    if (Notification.permission !== \"granted\") {\n      this.displayToastMessage({ toastMessage: [<span>Kindly grant notification access for this app to work</span>] })\n      Notification.requestPermission(function (status) {\n        if (Notification.permission !== status) {\n          Notification.permission = status;\n        }\n      }).then(status => {\n        console.log('Notification Status : ',status)\n        if(status === 'granted') {\n          this.displayToastMessage({ toastMessage: '' })\n        }             \n      });\n    }\n    else {\n      console.log('Notification access is already granted')\n    }\n  }\n\n  callNotification = async () => {\n    const notificationBody = Utils.getBatteryStateText(this.userState.notifyBatteryState) + ' with ' + this.userState.notifyBatteryLevel.toString() + '% is now complete.';\n    await Utils.showNotification(this.props.AppTitle, logo, notificationBody);\n    await this.displayToastMessage({toastMessage : [<span>Notification posted @ { Utils.getBatteryTimeText(this.userState.currBatteryTime) } </span>] }, 10000);\n  }\n\n  displayToastMessage = async(message, hideAfter) => {\n    const setStateMessage = async (msg) => \n      await this.setState({...this.state, ...msg}\n      ,() => { \n      console.log('Notification toast called with message: ',this.state.toastMessage, Utils.getBatteryTimeText(new Date())) \n      });\n    const callSetStateWithTimeOut = async (msg, timeOutValue) => await setTimeout(async() => { \n      await setStateMessage(msg)\n      console.log('close toast called!!');\n    }, timeOutValue);\n\n    await setStateMessage({...message, toastClassName: 'animated fadeInUpBig'});\n    if(hideAfter !== undefined) { \n        await callSetStateWithTimeOut({...message, toastClassName: 'animated fadeOutDownBig'}, hideAfter);\n        await callSetStateWithTimeOut({toastMessage : '', toastClassName: ''}, hideAfter+1000);        \n    }\n  }\n\n  getChangesLocally = async () => {\n    //console.log('checking for local values ..');\n    const localValues = await Utils.getItemsLocally(Utils.getDbContext());\n    //console.log('local values count : ',[...localValues].length);   \n    [...localValues].forEach(s => {\n      const localValues = {notifyBatteryLevel: s.notifyBatteryLevel, notifyBatteryState: s.notifyBatteryState }\n      this.setBatteryState(localValues);\n      console.log('local value is : ',localValues);\n    })\n  }\n\n  async componentDidMount() {\n    //this.displayToastMessage({ toastMessage: [<span>Battery API is not supported in current browser, please try the link in <a target=\"blank\" href=\"https://www.google.com/chrome/\">Chrome</a> browser</span>] }, 5000);\n    if ('getBattery' in navigator) {\n      console.log(Utils.getBatteryTimeText(this.userState.currBatteryTime) + ' - The Battery Status API is supported on this platform.');\n      this.getChangesLocally();\n      setTimeout(() => this.registerNotificationwithAccess(), 3000);\n    } \n    else {\n      this.displayToastMessage({ toastMessage: [<span>Battery API is not supported in current browser, please try the link in <a target=\"blank\" href=\"https://www.google.com/chrome/\">Chrome</a> browser</span>] });\n    }\n\n    this.timerInterval = setInterval(async () => { \n      await this.getBatteryAPI() \n      //console.log('current user model state : ', this.userState)\n      if(this.userState.notificationSent === false && this.userState.batteryState === this.userState.notifyBatteryState && this.userState.batteryLevel*100 ===  this.userState.notifyBatteryLevel) {\n        console.log('Display local notification called with current user model state : ', this.userState)\n        this.callNotification();\n        this.setBatteryState({ notificationSent : true })\n        //clearInterval(this.timerInterval);\n      }\n      else if(this.userState.batteryState === this.userState.notifyBatteryState \n        && ((this.userState.batteryState && this.userState.batteryLevel*100 >= this.userState.notifyBatteryLevel) \n            || (!this.userState.batteryState && this.userState.batteryLevel*100 <= this.userState.notifyBatteryLevel))) {\n        //clearInterval(this.timerInterval);\n      }\n    }, 1000);\n\n    // if(this.userState.workerProcess !== undefined && this.workerProcess === null) {\n    //   this.workerProcess = this.userState.workerProcess.instance;\n    //   console.log('did mount process status:', this.userState.workerProcess.started);\n    //   if(!this.userState.workerProcess.started) {\n    //     let obj = {'cmd': 'start', 'msg': 'from Home component'};\n    //     this.workerProcess.postMessage(obj);\n    //     this.setBatteryState({ workerProcess: { instance: this.workerProcess, started: true }});\n    //     console.log('background worker process started');\n    //   }\n    //   this.workerProcess.addEventListener('message', (e) => this.onWorkerMessage(e));\n    //   console.log('background worker onmessage attached');\n    // }\n  }\n\n  async componentWillUnmount() {\n    clearInterval(this.timerInterval);\n    //this.workerProcess.postMessage({'cmd': 'stop', 'msg': 'from main thread'});\n    //await this.setBatteryState({ workerProcess: { instance: this.workerProcess, started: true }});\n    console.log('did unmount process status:', this.userState.workerProcess.started);\n    this.workerProcess = null;\n    console.log('background worker process is still working although home component is unmounted');\n  }\n\n  render() {     \n    const batteryLevel = this.userState.batteryLevel*100;\n    return (\n      <Wrapper>\n        <div className=\"App App-body animated heartBeat\">\n            <div className=\"circle animated shake delay-1s\" \n                style={{ backgroundColor: Utils.bgColor(batteryLevel)\n                        , color: Utils.fontColor(batteryLevel) }} >\n              <div className=\"innerCircleContents\" >\n                <div className=\"contentHeader\" ref=\"contentHeader\">\n                  {Utils.getBatteryStateText(this.userState.batteryState)}\n                </div>\n                <div className=\"contentBody animated flash\" ref=\"contentBody\">\n                  {Utils.getBatteryLevelText(this.userState.batteryLevel)}\n                </div>\n                <div className=\"contentFooter\" ref=\"contentFooter\">\n                  {Utils.getBatteryTimeText(this.userState.currBatteryTime)}\n                </div>\n              </div>\n            </div>\n        </div>\n        {Utils.showToastMessage(this.state.toastMessage, this.state.toastClassName)}\n      </Wrapper>\n    );\n  }\n}\n\nconst Wrapper = styled.div`\n.App {\n  text-align: center;  \n  background-color: #282c34;\n  min-height: 100vh;\n}\n\n.App-body {\n  display: grid;\n  place-items:center;\n}\n\n.circle {\n  width:45vmax;\n  height:45vmax;\n  border-radius:50%;\n  box-sizing: border-box;\n  position:relative;\n  background:rgb(240, 16, 102);\n  color: black;\n  font-family: Helvetica, Arial Black, sans;\n  border:solid 0px greenyellow;\n  transform: scale(1);\n  transition:transform ease-in-out 250;\n}\n\n.circle:hover {\n  transform:scale(1.010);\n}\n\n.innerCircleContents {\n  margin:auto;\n  padding:25% 0;\n  width:100%;\n  height:50%;\n  place-items:center;\n  display: grid;\n  grid-auto-flow:row;\n  grid-gap: 5px;\n}\n\n.contentHeader {\n  width:50%;\n  border:0px solid greenyellow;\n  font-size: calc(8px + 4vmin);\n}\n\n.contentBody {\n  width:100%;\n  border:0px solid greenyellow;\n  font-size: calc(8px + 20vmin);\n}\n\n.contentFooter {\n  border:0px solid greenyellow;\n  width:50%;\n  font-size: calc(8px + 2vmin);\n  word-wrap: break-word;\n  overflow-wrap: break-word;\n}\n\n`\nexport default Home;\n"],"sourceRoot":""}